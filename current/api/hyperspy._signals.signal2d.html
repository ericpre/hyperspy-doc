

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>hyperspy._signals.signal2d module &mdash; HyperSpy 1.4.1 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/hyperspy.ico"/>
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="hyperspy.datasets package" href="hyperspy.datasets.html" />
    <link rel="prev" title="hyperspy._signals.signal1d module" href="hyperspy._signals.signal1d.html" />
 
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-25260850-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>


  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> HyperSpy
          

          
            
            <img src="../_static/hyperspy_logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                1.4.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../user_guide/index.html">HyperSpy User Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">Full HyperSpy API Documentation</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="hyperspy.html">hyperspy package</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="hyperspy.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="hyperspy._components.html">hyperspy._components package</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="hyperspy._signals.html">hyperspy._signals package</a></li>
<li class="toctree-l4"><a class="reference internal" href="hyperspy.datasets.html">hyperspy.datasets package</a></li>
<li class="toctree-l4"><a class="reference internal" href="hyperspy.docstrings.html">hyperspy.docstrings package</a></li>
<li class="toctree-l4"><a class="reference internal" href="hyperspy.drawing.html">hyperspy.drawing package</a></li>
<li class="toctree-l4"><a class="reference internal" href="hyperspy.external.html">hyperspy.external package</a></li>
<li class="toctree-l4"><a class="reference internal" href="hyperspy.io_plugins.html">hyperspy.io_plugins package</a></li>
<li class="toctree-l4"><a class="reference internal" href="hyperspy.learn.html">hyperspy.learn package</a></li>
<li class="toctree-l4"><a class="reference internal" href="hyperspy.misc.html">hyperspy.misc package</a></li>
<li class="toctree-l4"><a class="reference internal" href="hyperspy.models.html">hyperspy.models package</a></li>
<li class="toctree-l4"><a class="reference internal" href="hyperspy.samfire_utils.html">hyperspy.samfire_utils package</a></li>
<li class="toctree-l4"><a class="reference internal" href="hyperspy.tests.html">hyperspy.tests package</a></li>
<li class="toctree-l4"><a class="reference internal" href="hyperspy.utils.html">hyperspy.utils package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="hyperspy.html#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="hyperspy.html#module-hyperspy">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../dev_guide.html">Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../credits.html">Credits</a></li>
<li class="toctree-l1"><a class="reference internal" href="../citing.html">Citing HyperSpy</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">HyperSpy</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="modules.html">hyperspy</a> &raquo;</li>
        
          <li><a href="hyperspy.html">hyperspy package</a> &raquo;</li>
        
          <li><a href="hyperspy._signals.html">hyperspy._signals package</a> &raquo;</li>
        
      <li>hyperspy._signals.signal2d module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/api/hyperspy._signals.signal2d.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-hyperspy._signals.signal2d">
<span id="hyperspy-signals-signal2d-module"></span><h1>hyperspy._signals.signal2d module<a class="headerlink" href="#module-hyperspy._signals.signal2d" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="hyperspy._signals.signal2d.LazySignal2D">
<em class="property">class </em><code class="descclassname">hyperspy._signals.signal2d.</code><code class="descname">LazySignal2D</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.signal2d.LazySignal2D" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="hyperspy._signals.lazy.html#hyperspy._signals.lazy.LazySignal" title="hyperspy._signals.lazy.LazySignal"><code class="xref py py-class docutils literal notranslate"><span class="pre">hyperspy._signals.lazy.LazySignal</span></code></a>, <a class="reference internal" href="#hyperspy._signals.signal2d.Signal2D" title="hyperspy._signals.signal2d.Signal2D"><code class="xref py py-class docutils literal notranslate"><span class="pre">hyperspy._signals.signal2d.Signal2D</span></code></a></p>
</dd></dl>

<dl class="class">
<dt id="hyperspy._signals.signal2d.Signal2D">
<em class="property">class </em><code class="descclassname">hyperspy._signals.signal2d.</code><code class="descname">Signal2D</code><span class="sig-paren">(</span><em>*args</em>, <em>**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.signal2d.Signal2D" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="hyperspy.signal.html#hyperspy.signal.BaseSignal" title="hyperspy.signal.BaseSignal"><code class="xref py py-class docutils literal notranslate"><span class="pre">hyperspy.signal.BaseSignal</span></code></a>, <a class="reference internal" href="hyperspy._signals.common_signal2d.html#hyperspy._signals.common_signal2d.CommonSignal2D" title="hyperspy._signals.common_signal2d.CommonSignal2D"><code class="xref py py-class docutils literal notranslate"><span class="pre">hyperspy._signals.common_signal2d.CommonSignal2D</span></code></a></p>
<dl class="method">
<dt id="hyperspy._signals.signal2d.Signal2D.add_ramp">
<code class="descname">add_ramp</code><span class="sig-paren">(</span><em>ramp_x</em>, <em>ramp_y</em>, <em>offset=0</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.signal2d.Signal2D.add_ramp" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a linear ramp to the signal.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>ramp_x</strong> (<em>float</em>) – Slope of the ramp in x-direction.</li>
<li><strong>ramp_y</strong> (<em>float</em>) – Slope of the ramp in y-direction.</li>
<li><strong>offset</strong> (<em>float</em><em>, </em><em>optional</em>) – Offset of the ramp at the signal fulcrum.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>The fulcrum of the linear ramp is at the origin and the slopes are
given in units of the axis with the according scale taken into
account. Both are available via the <cite>axes_manager</cite> of the signal.</p>
</dd></dl>

<dl class="method">
<dt id="hyperspy._signals.signal2d.Signal2D.align2D">
<code class="descname">align2D</code><span class="sig-paren">(</span><em>crop=True</em>, <em>fill_value=nan</em>, <em>shifts=None</em>, <em>expand=False</em>, <em>roi=None</em>, <em>sobel=True</em>, <em>medfilter=True</em>, <em>hanning=True</em>, <em>plot=False</em>, <em>normalize_corr=False</em>, <em>reference='current'</em>, <em>dtype='float'</em>, <em>correlation_threshold=None</em>, <em>chunk_size=30</em>, <em>interpolation_order=1</em>, <em>sub_pixel_factor=1</em>, <em>show_progressbar=None</em>, <em>parallel=None</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.signal2d.Signal2D.align2D" title="Permalink to this definition">¶</a></dt>
<dd><p>Align the images in place using user provided shifts or by
estimating the shifts.</p>
<p>Please, see <cite>estimate_shift2D</cite> docstring for details
on the rest of the parameters not documented in the following
section</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>crop</strong> (<em>bool</em>) – If True, the data will be cropped not to include regions
with missing data</li>
<li><strong>fill_value</strong> (<em>int</em><em>, </em><em>float</em><em>, </em><em>nan</em>) – The areas with missing data are filled with the given value.
Default is nan.</li>
<li><strong>shifts</strong> (<em>None</em><em> or </em><em>list of tuples</em>) – If None the shifts are estimated using
<cite>estimate_shift2D</cite>.</li>
<li><strong>expand</strong> (<em>bool</em>) – If True, the data will be expanded to fit all data after alignment.
Overrides <cite>crop</cite>.</li>
<li><strong>interpolation_order</strong> (<em>int</em><em>, </em><em>default 1.</em>) – The order of the spline interpolation. Default is 1, linear
interpolation.</li>
<li><strong>parallel</strong> (<em>{None</em><em>, </em><em>bool}</em>) – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>shifts</strong> – The shifts are returned only if <cite>shifts</cite> is None</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">np.array</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>The statistical analysis approach to the translation estimation
when using <a href="#id1"><span class="problematic" id="id2">`</span></a>reference`=’stat’ roughly follows <a href="#id15"><span class="problematic" id="id3">[1]_</span></a> . If you use
it please cite their article.</p>
<p class="rubric">References</p>
<table class="docutils footnote" frame="void" id="id4" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[1]</td><td>Bernhard Schaffer, Werner Grogger and Gerald
Kothleitner. “Automated Spatial Drift Correction for EFTEM
Image Series.”
Ultramicroscopy 102, no. 1 (December 2004): 27–36.</td></tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="hyperspy._signals.signal2d.Signal2D.create_model">
<code class="descname">create_model</code><span class="sig-paren">(</span><em>dictionary=None</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.signal2d.Signal2D.create_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a model for the current signal</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>dictionary</strong> (<em>{None</em><em>, </em><em>dict}</em><em>, </em><em>optional</em>) – A dictionary to be used to recreate a model. Usually generated
using <code class="xref py py-meth docutils literal notranslate"><span class="pre">hyperspy.model.as_dictionary()</span></code></td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">A Model class</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="hyperspy._signals.signal2d.Signal2D.crop_image">
<code class="descname">crop_image</code><span class="sig-paren">(</span><em>top=None</em>, <em>bottom=None</em>, <em>left=None</em>, <em>right=None</em>, <em>convert_units=False</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.signal2d.Signal2D.crop_image" title="Permalink to this definition">¶</a></dt>
<dd><p>Crops an image in place.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>bottom</strong><strong>, </strong><strong>left</strong><strong>, </strong><strong>right</strong> (<em>top</em><em>,</em>) – If int the values are taken as indices. If float the values are
converted to indices.</li>
<li><strong>convert_units</strong> (<em>bool</em>) – Default is False
If True, convert the signal units using the ‘convert_to_units’
method of the ‘axes_manager’. If False, does nothing.</li>
<li><strong>also</strong> (<em>See</em>) – </li>
<li><strong>---------</strong> – </li>
<li><strong>crop</strong> – </li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="hyperspy._signals.signal2d.Signal2D.estimate_shift2D">
<code class="descname">estimate_shift2D</code><span class="sig-paren">(</span><em>reference='current'</em>, <em>correlation_threshold=None</em>, <em>chunk_size=30</em>, <em>roi=None</em>, <em>normalize_corr=False</em>, <em>sobel=True</em>, <em>medfilter=True</em>, <em>hanning=True</em>, <em>plot=False</em>, <em>dtype='float'</em>, <em>show_progressbar=None</em>, <em>sub_pixel_factor=1</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.signal2d.Signal2D.estimate_shift2D" title="Permalink to this definition">¶</a></dt>
<dd><p>Estimate the shifts in a image using phase correlation</p>
<p>This method can only estimate the shift by comparing
bidimensional features that should not change position
between frames. To decrease the memory usage, the time of
computation and the accuracy of the results it is convenient
to select a region of interest by setting the roi keyword.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>reference</strong> (<em>{'current'</em><em>, </em><em>'cascade'</em><em> ,</em><em>'stat'}</em>) – If ‘current’ (default) the image at the current
coordinates is taken as reference. If ‘cascade’ each image
is aligned with the previous one. If ‘stat’ the translation
of every image with all the rest is estimated and by
performing statistical analysis on the result the
translation is estimated.</li>
<li><strong>correlation_threshold</strong> (<em>{None</em><em>, </em><em>'auto'</em><em>, </em><em>float}</em>) – This parameter is only relevant when <cite>reference</cite> is ‘stat’.
If float, the shift estimations with a maximum correlation
value lower than the given value are not used to compute
the estimated shifts. If ‘auto’ the threshold is calculated
automatically as the minimum maximum correlation value
of the automatically selected reference image.</li>
<li><strong>chunk_size</strong> (<em>{None</em><em>, </em><em>int}</em>) – If int and <a href="#id5"><span class="problematic" id="id6">`</span></a>reference`==’stat’ the number of images used
as reference are limited to the given value.</li>
<li><strong>roi</strong> (<em>tuple of ints</em><em> or </em><em>floats</em><em> (</em><em>left</em><em>, </em><em>right</em><em>, </em><em>top bottom</em><em>)</em>) – Define the region of interest. If int(float) the position
is given axis index(value).</li>
<li><strong>sobel</strong> (<em>bool</em>) – apply a sobel filter for edge enhancement</li>
<li><strong>medfilter</strong> (<em>bool</em>) – apply a median filter for noise reduction</li>
<li><strong>hanning</strong> (<em>bool</em>) – Apply a 2d hanning filter</li>
<li><strong>plot</strong> (<em>bool</em><em> or </em><em>&quot;reuse&quot;</em>) – If True plots the images after applying the filters and
the phase correlation. If ‘reuse’, it will also plot the images,
but it will only use one figure, and continously update the images
in that figure as it progresses through the stack.</li>
<li><strong>dtype</strong> (<em>str</em><em> or </em><em>dtype</em>) – Typecode or data-type in which the calculations must be
performed.</li>
<li><strong>show_progressbar</strong> (<em>None</em><em> or </em><em>bool</em>) – If True, display a progress bar. If None the default is set in
<cite>preferences</cite>.</li>
<li><strong>sub_pixel_factor</strong> (<em>float</em>) – Estimate shifts with a sub-pixel accuracy of 1/sub_pixel_factor
parts of a pixel. Default is 1, i.e. no sub-pixel accuracy.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list of applied shifts</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>The statistical analysis approach to the translation estimation
when using <a href="#id7"><span class="problematic" id="id8">`</span></a>reference`=’stat’ roughly follows <a href="#id16"><span class="problematic" id="id9">[1]_</span></a> . If you use
it please cite their article.</p>
<p class="rubric">References</p>
<table class="docutils footnote" frame="void" id="id10" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[1]</td><td>Schaffer, Bernhard, Werner Grogger, and Gerald</td></tr>
</tbody>
</table>
<p>Kothleitner. “Automated Spatial Drift Correction for EFTEM
Image Series.”
Ultramicroscopy 102, no. 1 (December 2004): 27–36.</p>
</dd></dl>

<dl class="method">
<dt id="hyperspy._signals.signal2d.Signal2D.plot">
<code class="descname">plot</code><span class="sig-paren">(</span><em>colorbar=True</em>, <em>scalebar=True</em>, <em>scalebar_color='white'</em>, <em>axes_ticks=None</em>, <em>axes_off=False</em>, <em>saturated_pixels=0</em>, <em>vmin=None</em>, <em>vmax=None</em>, <em>no_nans=False</em>, <em>centre_colormap='auto'</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.signal2d.Signal2D.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the signal at the current coordinates.</p>
<p>For multidimensional datasets an optional figure,
the “navigator”, with a cursor to navigate that data is
raised. In any case it is possible to navigate the data using
the sliders. Currently only signals with signal_dimension equal to
0, 1 and 2 can be plotted.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>navigator</strong> (<em>{&quot;auto&quot;</em><em>, </em><em>None</em><em>, </em><em>&quot;slider&quot;</em><em>, </em><em>&quot;spectrum&quot;</em><em>, </em><em>Signal}</em>) – If “auto”, if navigation_dimension &gt; 0, a navigator is
provided to explore the data.
If navigation_dimension is 1 and the signal is an image
the navigator is a spectrum obtained by integrating
over the signal axes (the image).
If navigation_dimension is 1 and the signal is a spectrum
the navigator is an image obtained by stacking horizontally
all the spectra in the dataset.
If navigation_dimension is &gt; 1, the navigator is an image
obtained by integrating the data over the signal axes.
Additionaly, if navigation_dimension &gt; 2 a window
with one slider per axis is raised to navigate the data.
For example,
if the dataset consists of 3 navigation axes X, Y, Z and one
signal axis, E, the default navigator will be an image
obtained by integrating the data over E at the current Z
index and a window with sliders for the X, Y and Z axes
will be raised. Notice that changing the Z-axis index
changes the navigator in this case.
If “slider” and the navigation dimension &gt; 0 a window
with one slider per axis is raised to navigate the data.
If “spectrum” and navigation_dimension &gt; 0 the navigator
is always a spectrum obtained by integrating the data
over all other axes.
If None, no navigator will be provided.
Alternatively a Signal instance can be provided. The signal
dimension must be 1 (for a spectrum navigator) or 2 (for a
image navigator) and navigation_shape must be 0 (for a static
navigator) or navigation_shape + signal_shape must be equal
to the navigator_shape of the current object (for a dynamic
navigator).
If the signal dtype is RGB or RGBA this parameters has no
effect and is always “slider”.</li>
<li><strong>axes_manager</strong> (<em>{None</em><em>, </em><em>axes_manager}</em>) – If None <cite>axes_manager</cite> is used.</li>
<li><strong>plot_markers</strong> (<em>bool</em><em>, </em><em>default True</em>) – Plot markers added using s.add_marker(marker, permanent=True).
Note, a large number of markers might lead to very slow plotting.</li>
<li><strong>norm</strong> ({‘auto’, ‘linear’, ‘log’, mpl <cite>Normalize</cite> instance or subclass},) – default is ‘auto’.
Plot the intensity scale on a linear or logarithmic scale. If
‘auto’, plot the intensity on a linear scale except when
<cite>power_spectrum</cite> is True, which can be used only for compatible
signal. For Signal2D, a matplotlib <cite>Normalize</cite> subclass or
instance can be provided.</li>
<li><strong>colorbar</strong> (<em>bool</em><em>, </em><em>optional</em>) – If true, a colorbar is plotted for non-RGB images.</li>
<li><strong>scalebar</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True and the units and scale of the x and y axes are the same a
scale bar is plotted.</li>
<li><strong>scalebar_color</strong> (<em>str</em><em>, </em><em>optional</em>) – A valid MPL color string; will be used as the scalebar color.</li>
<li><strong>axes_ticks</strong> (<em>{None</em><em>, </em><em>bool}</em><em>, </em><em>optional</em>) – If True, plot the axes ticks. If None axes_ticks are only
plotted when the scale bar is not plotted. If False the axes ticks
are never plotted.</li>
<li><strong>saturated_pixels</strong> (<em>scalar</em>) – The percentage of pixels that are left out of the bounds.
For example, the low and high bounds of a value of 1 are the 0.5%
and 99.5% percentiles. It must be in the [0, 100] range.</li>
<li><strong>vmax</strong> (<em>vmin</em><em>,</em>) – <cite>vmin</cite> and <cite>vmax</cite> are used to normalize luminance data.</li>
<li><strong>no_nans</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, set nans to zero for plotting.</li>
<li><strong>centre_colormap</strong> (<em>{&quot;auto&quot;</em><em>, </em><em>True</em><em>, </em><em>False}</em>) – If True the centre of the color scheme is set to zero. This is
specially useful when using diverging color schemes. If “auto”
(default), diverging color schemes are automatically centred.</li>
<li><strong>min_aspect</strong> (<em>float</em>) – Set the minimum aspect ratio of the image and the figure. To
keep the image in the aspect limit the pixels are made
rectangular.</li>
<li><strong>optional</strong> (<em>**kwargs</em><em>,</em>) – Additional key word arguments passed to matplotlib.imshow()</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="hyperspy._signals.signal2d.estimate_image_shift">
<code class="descclassname">hyperspy._signals.signal2d.</code><code class="descname">estimate_image_shift</code><span class="sig-paren">(</span><em>ref</em>, <em>image</em>, <em>roi=None</em>, <em>sobel=True</em>, <em>medfilter=True</em>, <em>hanning=True</em>, <em>plot=False</em>, <em>dtype='float'</em>, <em>normalize_corr=False</em>, <em>sub_pixel_factor=1</em>, <em>return_maxval=True</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.signal2d.estimate_image_shift" title="Permalink to this definition">¶</a></dt>
<dd><p>Estimate the shift in a image using phase correlation</p>
<p>This method can only estimate the shift by comparing
bidimensional features that should not change the position
in the given axis. To decrease the memory usage, the time of
computation and the accuracy of the results it is convenient
to select a region of interest by setting the roi keyword.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ref</strong> (<em>2D numpy.ndarray</em>) – Reference image</li>
<li><strong>image</strong> (<em>2D numpy.ndarray</em>) – Image to register</li>
<li><strong>roi</strong> (<em>tuple of ints</em><em> (</em><em>top</em><em>, </em><em>bottom</em><em>, </em><em>left</em><em>, </em><em>right</em><em>)</em>) – Define the region of interest</li>
<li><strong>sobel</strong> (<em>bool</em>) – apply a sobel filter for edge enhancement</li>
<li><strong>medfilter</strong> (<em>bool</em>) – apply a median filter for noise reduction</li>
<li><strong>hanning</strong> (<em>bool</em>) – Apply a 2d hanning filter</li>
<li><strong>plot</strong> (<em>bool | matplotlib.Figure</em>) – If True, plots the images after applying the filters and the phase
correlation. If a figure instance, the images will be plotted to the
given figure.</li>
<li><strong>reference</strong> (<em>'current' | 'cascade'</em>) – If ‘current’ (default) the image at the current
coordinates is taken as reference. If ‘cascade’ each image
is aligned with the previous one.</li>
<li><strong>dtype</strong> (<em>str</em><em> or </em><em>dtype</em>) – Typecode or data-type in which the calculations must be
performed.</li>
<li><strong>normalize_corr</strong> (<em>bool</em>) – If True use phase correlation instead of standard correlation</li>
<li><strong>sub_pixel_factor</strong> (<em>float</em>) – Estimate shifts with a sub-pixel accuracy of 1/sub_pixel_factor parts
of a pixel. Default is 1, i.e. no sub-pixel accuracy.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><strong>shifts</strong> (<em>np.array</em>) – containing the estimate shifts</li>
<li><strong>max_value</strong> (<em>float</em>) – The maximum value of the correlation</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>The statistical analysis approach to the translation estimation
when using <a href="#id11"><span class="problematic" id="id12">`</span></a>reference`=’stat’ roughly follows <a href="#id17"><span class="problematic" id="id13">[1]_</span></a> . If you use
it please cite their article.</p>
<p class="rubric">References</p>
<table class="docutils footnote" frame="void" id="id14" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[1]</td><td>Bernhard Schaffer, Werner Grogger and Gerald
Kothleitner. “Automated Spatial Drift Correction for EFTEM
Image Series.”
Ultramicroscopy 102, no. 1 (December 2004): 27–36.</td></tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="hyperspy._signals.signal2d.fft_correlation">
<code class="descclassname">hyperspy._signals.signal2d.</code><code class="descname">fft_correlation</code><span class="sig-paren">(</span><em>in1</em>, <em>in2</em>, <em>normalize=False</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.signal2d.fft_correlation" title="Permalink to this definition">¶</a></dt>
<dd><p>Correlation of two N-dimensional arrays using FFT.</p>
<p>Adapted from scipy’s fftconvolve.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>in2</strong> (<em>in1</em><em>,</em>) – </li>
<li><strong>normalize</strong> (<em>bool</em>) – If True performs phase correlation</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="hyperspy._signals.signal2d.hanning2d">
<code class="descclassname">hyperspy._signals.signal2d.</code><code class="descname">hanning2d</code><span class="sig-paren">(</span><em>M</em>, <em>N</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.signal2d.hanning2d" title="Permalink to this definition">¶</a></dt>
<dd><p>A 2D hanning window created by outer product.</p>
</dd></dl>

<dl class="function">
<dt id="hyperspy._signals.signal2d.shift_image">
<code class="descclassname">hyperspy._signals.signal2d.</code><code class="descname">shift_image</code><span class="sig-paren">(</span><em>im</em>, <em>shift=0</em>, <em>interpolation_order=1</em>, <em>fill_value=nan</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.signal2d.shift_image" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="hyperspy._signals.signal2d.sobel_filter">
<code class="descclassname">hyperspy._signals.signal2d.</code><code class="descname">sobel_filter</code><span class="sig-paren">(</span><em>im</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.signal2d.sobel_filter" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="hyperspy._signals.signal2d.triu_indices_minus_diag">
<code class="descclassname">hyperspy._signals.signal2d.</code><code class="descname">triu_indices_minus_diag</code><span class="sig-paren">(</span><em>n</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.signal2d.triu_indices_minus_diag" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the indices for the upper-triangle of an (n, n) array
excluding its diagonal</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>n</strong> (<em>int</em>) – The length of the square array</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="hyperspy.datasets.html" class="btn btn-neutral float-right" title="hyperspy.datasets package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="hyperspy._signals.signal1d.html" class="btn btn-neutral" title="hyperspy._signals.signal1d module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2011-2018, The HyperSpy development team

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'../',
              VERSION:'1.4.1',
              LANGUAGE:'None',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/copybutton.js"></script>
    

  

  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>