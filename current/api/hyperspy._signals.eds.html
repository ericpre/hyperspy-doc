

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>hyperspy._signals.eds module &mdash; HyperSpy 1.5.dev documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/hyperspy.ico"/>
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="hyperspy._signals.eds_sem module" href="hyperspy._signals.eds_sem.html" />
    <link rel="prev" title="hyperspy._signals.dielectric_function module" href="hyperspy._signals.dielectric_function.html" />
 
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-25260850-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>


  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> HyperSpy
          

          
            
            <img src="../_static/hyperspy_logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                1.5.dev
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../user_guide/index.html">HyperSpy User Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">Full HyperSpy API Documentation</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="hyperspy.html">hyperspy package</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="hyperspy.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="hyperspy._components.html">hyperspy._components package</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="hyperspy._signals.html">hyperspy._signals package</a></li>
<li class="toctree-l4"><a class="reference internal" href="hyperspy.datasets.html">hyperspy.datasets package</a></li>
<li class="toctree-l4"><a class="reference internal" href="hyperspy.docstrings.html">hyperspy.docstrings package</a></li>
<li class="toctree-l4"><a class="reference internal" href="hyperspy.drawing.html">hyperspy.drawing package</a></li>
<li class="toctree-l4"><a class="reference internal" href="hyperspy.external.html">hyperspy.external package</a></li>
<li class="toctree-l4"><a class="reference internal" href="hyperspy.io_plugins.html">hyperspy.io_plugins package</a></li>
<li class="toctree-l4"><a class="reference internal" href="hyperspy.learn.html">hyperspy.learn package</a></li>
<li class="toctree-l4"><a class="reference internal" href="hyperspy.misc.html">hyperspy.misc package</a></li>
<li class="toctree-l4"><a class="reference internal" href="hyperspy.models.html">hyperspy.models package</a></li>
<li class="toctree-l4"><a class="reference internal" href="hyperspy.samfire_utils.html">hyperspy.samfire_utils package</a></li>
<li class="toctree-l4"><a class="reference internal" href="hyperspy.tests.html">hyperspy.tests package</a></li>
<li class="toctree-l4"><a class="reference internal" href="hyperspy.utils.html">hyperspy.utils package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="hyperspy.html#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="hyperspy.html#module-hyperspy">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../dev_guide.html">Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../credits.html">Credits</a></li>
<li class="toctree-l1"><a class="reference internal" href="../citing.html">Citing HyperSpy</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">HyperSpy</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="modules.html">hyperspy</a> &raquo;</li>
        
          <li><a href="hyperspy.html">hyperspy package</a> &raquo;</li>
        
          <li><a href="hyperspy._signals.html">hyperspy._signals package</a> &raquo;</li>
        
      <li>hyperspy._signals.eds module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/api/hyperspy._signals.eds.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-hyperspy._signals.eds">
<span id="hyperspy-signals-eds-module"></span><h1>hyperspy._signals.eds module<a class="headerlink" href="#module-hyperspy._signals.eds" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="hyperspy._signals.eds.EDSSpectrum">
<em class="property">class </em><code class="sig-prename descclassname">hyperspy._signals.eds.</code><code class="sig-name descname">EDSSpectrum</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwards</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.eds.EDSSpectrum" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#hyperspy._signals.eds.EDS_mixin" title="hyperspy._signals.eds.EDS_mixin"><code class="xref py py-class docutils literal notranslate"><span class="pre">hyperspy._signals.eds.EDS_mixin</span></code></a>, <a class="reference internal" href="hyperspy._signals.signal1d.html#hyperspy._signals.signal1d.Signal1D" title="hyperspy._signals.signal1d.Signal1D"><code class="xref py py-class docutils literal notranslate"><span class="pre">hyperspy._signals.signal1d.Signal1D</span></code></a></p>
</dd></dl>

<dl class="class">
<dt id="hyperspy._signals.eds.EDS_mixin">
<em class="property">class </em><code class="sig-prename descclassname">hyperspy._signals.eds.</code><code class="sig-name descname">EDS_mixin</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwards</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.eds.EDS_mixin" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="method">
<dt id="hyperspy._signals.eds.EDS_mixin.add_elements">
<code class="sig-name descname">add_elements</code><span class="sig-paren">(</span><em class="sig-param">elements</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.eds.EDS_mixin.add_elements" title="Permalink to this definition">¶</a></dt>
<dd><p>Add elements and the corresponding X-ray lines.</p>
<p>The list of elements is stored in <cite>metadata.Sample.elements</cite></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>elements</strong> (<em>list of strings</em>) – The symbol of the elements.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">example_signals</span><span class="o">.</span><span class="n">EDS_SEM_Spectrum</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">Sample</span><span class="o">.</span><span class="n">elements</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">add_elements</span><span class="p">([</span><span class="s1">&#39;Ar&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">Sample</span><span class="o">.</span><span class="n">elements</span><span class="p">)</span>
<span class="go">[&#39;Al&#39; &#39;C&#39; &#39;Cu&#39; &#39;Mn&#39; &#39;Zr&#39;]</span>
<span class="go">[&#39;Al&#39;, &#39;Ar&#39;, &#39;C&#39;, &#39;Cu&#39;, &#39;Mn&#39;, &#39;Zr&#39;]</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#hyperspy._signals.eds.EDS_mixin.set_elements" title="hyperspy._signals.eds.EDS_mixin.set_elements"><code class="xref py py-meth docutils literal notranslate"><span class="pre">set_elements()</span></code></a>, <a class="reference internal" href="#hyperspy._signals.eds.EDS_mixin.add_lines" title="hyperspy._signals.eds.EDS_mixin.add_lines"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_lines()</span></code></a>, <a class="reference internal" href="#hyperspy._signals.eds.EDS_mixin.set_lines" title="hyperspy._signals.eds.EDS_mixin.set_lines"><code class="xref py py-meth docutils literal notranslate"><span class="pre">set_lines()</span></code></a></p>
</div>
</dd></dl>

<dl class="method">
<dt id="hyperspy._signals.eds.EDS_mixin.add_lines">
<code class="sig-name descname">add_lines</code><span class="sig-paren">(</span><em class="sig-param">lines=()</em>, <em class="sig-param">only_one=True</em>, <em class="sig-param">only_lines=('a'</em>, <em class="sig-param">)</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.eds.EDS_mixin.add_lines" title="Permalink to this definition">¶</a></dt>
<dd><p>Add X-rays lines to the internal list.</p>
<p>Although most functions do not require an internal list of
X-ray lines because they can be calculated from the internal
list of elements, ocassionally it might be useful to customize the
X-ray lines to be use by all functions by default using this method.
The list of X-ray lines is stored in
<cite>metadata.Sample.xray_lines</cite></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lines</strong> (<em>list of strings</em>) – A list of valid element X-ray lines to add e.g. Fe_Kb.
Additionally, if <cite>metadata.Sample.elements</cite> is
defined, add the lines of those elements that where not
given in this list. If the list is empty (default), and
<cite>metadata.Sample.elements</cite> is
defined, add the lines of all those elements.</p></li>
<li><p><strong>only_one</strong> (<em>bool</em>) – If False, add all the lines of each element in
<cite>metadata.Sample.elements</cite> that has not line
defined in lines. If True (default),
only add the line at the highest energy
above an overvoltage of 2 (&lt; beam energy / 2).</p></li>
<li><p><strong>only_lines</strong> (<em>{None</em><em>, </em><em>list of strings}</em>) – If not None, only the given lines will be added.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">example_signals</span><span class="o">.</span><span class="n">EDS_SEM_Spectrum</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">add_lines</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">Sample</span><span class="o">.</span><span class="n">xray_lines</span><span class="p">)</span>
<span class="go">[&#39;Al_Ka&#39;, &#39;C_Ka&#39;, &#39;Cu_La&#39;, &#39;Mn_La&#39;, &#39;Zr_La&#39;]</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">example_signals</span><span class="o">.</span><span class="n">EDS_SEM_Spectrum</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">set_microscope_parameters</span><span class="p">(</span><span class="n">beam_energy</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">add_lines</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">Sample</span><span class="o">.</span><span class="n">xray_lines</span><span class="p">)</span>
<span class="go">[&#39;Al_Ka&#39;, &#39;C_Ka&#39;, &#39;Cu_Ka&#39;, &#39;Mn_Ka&#39;, &#39;Zr_La&#39;]</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">example_signals</span><span class="o">.</span><span class="n">EDS_SEM_Spectrum</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">add_lines</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">Sample</span><span class="o">.</span><span class="n">xray_lines</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">add_lines</span><span class="p">([</span><span class="s1">&#39;Cu_Ka&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">Sample</span><span class="o">.</span><span class="n">xray_lines</span><span class="p">)</span>
<span class="go">[&#39;Al_Ka&#39;, &#39;C_Ka&#39;, &#39;Cu_La&#39;, &#39;Mn_La&#39;, &#39;Zr_La&#39;]</span>
<span class="go">[&#39;Al_Ka&#39;, &#39;C_Ka&#39;, &#39;Cu_Ka&#39;, &#39;Cu_La&#39;, &#39;Mn_La&#39;, &#39;Zr_La&#39;]</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#hyperspy._signals.eds.EDS_mixin.set_lines" title="hyperspy._signals.eds.EDS_mixin.set_lines"><code class="xref py py-meth docutils literal notranslate"><span class="pre">set_lines()</span></code></a>, <a class="reference internal" href="#hyperspy._signals.eds.EDS_mixin.add_elements" title="hyperspy._signals.eds.EDS_mixin.add_elements"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_elements()</span></code></a>, <a class="reference internal" href="#hyperspy._signals.eds.EDS_mixin.set_elements" title="hyperspy._signals.eds.EDS_mixin.set_elements"><code class="xref py py-meth docutils literal notranslate"><span class="pre">set_elements()</span></code></a></p>
</div>
</dd></dl>

<dl class="method">
<dt id="hyperspy._signals.eds.EDS_mixin.add_xray_lines_markers">
<code class="sig-name descname">add_xray_lines_markers</code><span class="sig-paren">(</span><em class="sig-param">xray_lines</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.eds.EDS_mixin.add_xray_lines_markers" title="Permalink to this definition">¶</a></dt>
<dd><p>Add marker on a spec.plot() with the name of the selected X-ray
lines</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>xray_lines</strong> (<em>list of string</em>) – A valid list of X-ray lines</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="hyperspy._signals.eds.EDS_mixin.estimate_background_windows">
<code class="sig-name descname">estimate_background_windows</code><span class="sig-paren">(</span><em class="sig-param">line_width=[2, 2], windows_width=1, xray_lines=None</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.eds.EDS_mixin.estimate_background_windows" title="Permalink to this definition">¶</a></dt>
<dd><p>Estimate two windows around each X-ray line containing only the
background.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>line_width</strong> (<em>list of two floats</em>) – The position of the two windows around the X-ray line is given by
the <cite>line_width</cite> (left and right) times the calculated FWHM of the
line.</p></li>
<li><p><strong>windows_width</strong> (<em>float</em>) – The width of the windows is is the <cite>windows_width</cite> times the
calculated FWHM of the line.</p></li>
<li><p><strong>xray_lines</strong> (<em>None</em><em> or </em><em>list of string</em>) – If None, use <cite>metadata.Sample.elements.xray_lines</cite>. Else,
provide an iterable containing a list of valid X-ray lines
symbols.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>windows_position</strong> – The position of the windows in energy. Each line corresponds to a
X-ray line. In a line, the two first values correspond to the
limits of the left window and the two last values correspond to
the limits of the right window.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>2D array of float</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">example_signals</span><span class="o">.</span><span class="n">EDS_TEM_Spectrum</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">add_lines</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bw</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">estimate_background_windows</span><span class="p">(</span><span class="n">line_width</span><span class="o">=</span><span class="p">[</span><span class="mf">5.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">background_windows</span><span class="o">=</span><span class="n">bw</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">get_lines_intensity</span><span class="p">(</span><span class="n">background_windows</span><span class="o">=</span><span class="n">bw</span><span class="p">,</span> <span class="n">plot_result</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">Fe_Ka at 6.4039 keV : Intensity = 2754.00</span>
<span class="go">Pt_La at 9.4421 keV : Intensity = 15090.00</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#hyperspy._signals.eds.EDS_mixin.plot" title="hyperspy._signals.eds.EDS_mixin.plot"><code class="xref py py-meth docutils literal notranslate"><span class="pre">plot()</span></code></a>, <a class="reference internal" href="#hyperspy._signals.eds.EDS_mixin.get_lines_intensity" title="hyperspy._signals.eds.EDS_mixin.get_lines_intensity"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_lines_intensity()</span></code></a></p>
</div>
</dd></dl>

<dl class="method">
<dt id="hyperspy._signals.eds.EDS_mixin.estimate_integration_windows">
<code class="sig-name descname">estimate_integration_windows</code><span class="sig-paren">(</span><em class="sig-param">windows_width=2.0</em>, <em class="sig-param">xray_lines=None</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.eds.EDS_mixin.estimate_integration_windows" title="Permalink to this definition">¶</a></dt>
<dd><p>Estimate a window of integration for each X-ray line.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>windows_width</strong> (<em>float</em>) – The width of the integration windows is the ‘windows_width’ times
the calculated FWHM of the line.</p></li>
<li><p><strong>xray_lines</strong> (<em>None</em><em> or </em><em>list of string</em>) – If None, use ‘metadata.Sample.elements.xray_lines’. Else,
provide an iterable containing a list of valid X-ray lines
symbols.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>integration_windows</strong> – The positions of the windows in energy. Each row corresponds to a
X-ray line. Each row contains the left and right value of the
window.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>2D array of float</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">example_signals</span><span class="o">.</span><span class="n">EDS_TEM_Spectrum</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">add_lines</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">iw</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">estimate_integration_windows</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">integration_windows</span><span class="o">=</span><span class="n">iw</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">get_lines_intensity</span><span class="p">(</span><span class="n">integration_windows</span><span class="o">=</span><span class="n">iw</span><span class="p">,</span> <span class="n">plot_result</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">Fe_Ka at 6.4039 keV : Intensity = 3710.00</span>
<span class="go">Pt_La at 9.4421 keV : Intensity = 15872.00</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#hyperspy._signals.eds.EDS_mixin.plot" title="hyperspy._signals.eds.EDS_mixin.plot"><code class="xref py py-meth docutils literal notranslate"><span class="pre">plot()</span></code></a>, <a class="reference internal" href="#hyperspy._signals.eds.EDS_mixin.get_lines_intensity" title="hyperspy._signals.eds.EDS_mixin.get_lines_intensity"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_lines_intensity()</span></code></a></p>
</div>
</dd></dl>

<dl class="method">
<dt id="hyperspy._signals.eds.EDS_mixin.get_lines_intensity">
<code class="sig-name descname">get_lines_intensity</code><span class="sig-paren">(</span><em class="sig-param">xray_lines=None</em>, <em class="sig-param">integration_windows=2.0</em>, <em class="sig-param">background_windows=None</em>, <em class="sig-param">plot_result=False</em>, <em class="sig-param">only_one=True</em>, <em class="sig-param">only_lines=('a'</em>, <em class="sig-param">)</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.eds.EDS_mixin.get_lines_intensity" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the intensity map of selected Xray lines.</p>
<p>The intensities, the number of X-ray counts, are computed by
suming the spectrum over the
different X-ray lines. The sum window width
is calculated from the energy resolution of the detector
as defined in ‘energy_resolution_MnKa’ of the metadata.
Backgrounds average in provided windows can be subtracted from the
intensities.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>xray_lines</strong> (<em>{None</em><em>, </em><em>list of string}</em>) – If None,
if <cite>metadata.Sample.elements.xray_lines</cite> contains a
list of lines use those.
If <cite>metadata.Sample.elements.xray_lines</cite> is undefined
or empty but <cite>metadata.Sample.elements</cite> is defined,
use the same syntax as <cite>add_line</cite> to select a subset of lines
for the operation.
Alternatively, provide an iterable containing
a list of valid X-ray lines symbols.</p></li>
<li><p><strong>integration_windows</strong> (<em>Float</em><em> or </em><em>array</em>) – If float, the width of the integration windows is the
‘integration_windows_width’ times the calculated FWHM of the line.
Else provide an array for which each row corresponds to a X-ray
line. Each row contains the left and right value of the window.</p></li>
<li><p><strong>background_windows</strong> (<em>None</em><em> or </em><em>2D array of float</em>) – If None, no background subtraction. Else, the backgrounds average
in the windows are subtracted from the return intensities.
‘background_windows’ provides the position of the windows in
energy. Each line corresponds to a X-ray line. In a line, the two
first values correspond to the limits of the left window and the
two last values correspond to the limits of the right window.</p></li>
<li><p><strong>plot_result</strong> (<em>bool</em>) – If True, plot the calculated line intensities. If the current
object is a single spectrum it prints the result instead.</p></li>
<li><p><strong>only_one</strong> (<em>bool</em>) – If False, use all the lines of each element in the data spectral
range. If True use only the line at the highest energy
above an overvoltage of 2 (&lt; beam energy / 2).</p></li>
<li><p><strong>only_lines</strong> (<em>{None</em><em>, </em><em>list of strings}</em>) – If not None, use only the given lines.</p></li>
<li><p><strong>kwargs</strong> – The extra keyword arguments for plotting. See
<cite>utils.plot.plot_signals</cite></p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>intensities</strong> – A list containing the intensities as BaseSignal subclasses.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">example_signals</span><span class="o">.</span><span class="n">EDS_SEM_Spectrum</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">get_lines_intensity</span><span class="p">([</span><span class="s1">&#39;Mn_Ka&#39;</span><span class="p">],</span> <span class="n">plot_result</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">Mn_La at 0.63316 keV : Intensity = 96700.00</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">example_signals</span><span class="o">.</span><span class="n">EDS_SEM_Spectrum</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="s1">&#39;Mn_Ka&#39;</span><span class="p">],</span> <span class="n">integration_windows</span><span class="o">=</span><span class="mf">2.1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">get_lines_intensity</span><span class="p">([</span><span class="s1">&#39;Mn_Ka&#39;</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>                      <span class="n">integration_windows</span><span class="o">=</span><span class="mf">2.1</span><span class="p">,</span> <span class="n">plot_result</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">Mn_Ka at 5.8987 keV : Intensity = 53597.00</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">example_signals</span><span class="o">.</span><span class="n">EDS_SEM_Spectrum</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">set_elements</span><span class="p">([</span><span class="s1">&#39;Mn&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">set_lines</span><span class="p">([</span><span class="s1">&#39;Mn_Ka&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bw</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">estimate_background_windows</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">background_windows</span><span class="o">=</span><span class="n">bw</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">get_lines_intensity</span><span class="p">(</span><span class="n">background_windows</span><span class="o">=</span><span class="n">bw</span><span class="p">,</span> <span class="n">plot_result</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">Mn_Ka at 5.8987 keV : Intensity = 46716.00</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#hyperspy._signals.eds.EDS_mixin.set_elements" title="hyperspy._signals.eds.EDS_mixin.set_elements"><code class="xref py py-meth docutils literal notranslate"><span class="pre">set_elements()</span></code></a>, <a class="reference internal" href="#hyperspy._signals.eds.EDS_mixin.add_elements" title="hyperspy._signals.eds.EDS_mixin.add_elements"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_elements()</span></code></a>, <a class="reference internal" href="#hyperspy._signals.eds.EDS_mixin.estimate_background_windows" title="hyperspy._signals.eds.EDS_mixin.estimate_background_windows"><code class="xref py py-meth docutils literal notranslate"><span class="pre">estimate_background_windows()</span></code></a>, <a class="reference internal" href="#hyperspy._signals.eds.EDS_mixin.plot" title="hyperspy._signals.eds.EDS_mixin.plot"><code class="xref py py-meth docutils literal notranslate"><span class="pre">plot()</span></code></a></p>
</div>
</dd></dl>

<dl class="method">
<dt id="hyperspy._signals.eds.EDS_mixin.get_take_off_angle">
<code class="sig-name descname">get_take_off_angle</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.eds.EDS_mixin.get_take_off_angle" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the take-off-angle (TOA).</p>
<p>TOA is the angle with which the X-rays leave the surface towards
the detector. Parameters are read in ‘SEM.Stage.tilt_alpha’,
‘Acquisition_instrument.SEM.Detector.EDS.azimuth_angle’ and
‘SEM.Detector.EDS.elevation_angle’ in ‘metadata’.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>take_off_angle</strong> – in Degree</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">example_signals</span><span class="o">.</span><span class="n">EDS_SEM_Spectrum</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">get_take_off_angle</span><span class="p">()</span>
<span class="go">37.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">set_microscope_parameters</span><span class="p">(</span><span class="n">tilt_stage</span><span class="o">=</span><span class="mf">20.</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">get_take_off_angle</span><span class="p">()</span>
<span class="go">57.0</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><code class="xref py py-meth docutils literal notranslate"><span class="pre">hs.eds.take_off_angle()</span></code></p>
</div>
<p class="rubric">Notes</p>
<p>Defined by M. Schaffer et al., Ultramicroscopy 107(8), pp 587-597
(2007)</p>
</dd></dl>

<dl class="method">
<dt id="hyperspy._signals.eds.EDS_mixin.plot">
<code class="sig-name descname">plot</code><span class="sig-paren">(</span><em class="sig-param">xray_lines=False</em>, <em class="sig-param">only_lines=('a'</em>, <em class="sig-param">'b')</em>, <em class="sig-param">only_one=False</em>, <em class="sig-param">background_windows=None</em>, <em class="sig-param">integration_windows=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.eds.EDS_mixin.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the EDS spectrum. The following markers can be added</p>
<ul class="simple">
<li><p>The position of the X-ray lines and their names.</p></li>
<li><p>The background windows associated with each X-ray lines. A black line</p></li>
</ul>
<p>links the left and right window with the average value in each window.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>xray_lines</strong> (<em>{False</em><em>, </em><em>True</em><em>, </em><em>'from_elements'</em><em>, </em><em>list of string}</em>) – If not False, indicate the position and the name of the X-ray
lines.
If True, if <cite>metadata.Sample.elements.xray_lines</cite> contains a
list of lines use those. If <cite>metadata.Sample.elements.xray_lines</cite>
is undefined or empty or if xray_lines equals ‘from_elements’ and
<cite>metadata.Sample.elements</cite> is defined, use the same syntax as
<cite>add_line</cite> to select a subset of lines for the operation.
Alternatively, provide an iterable containing a list of valid X-ray
lines symbols.</p></li>
<li><p><strong>only_lines</strong> (<em>None</em><em> or </em><em>list of strings</em>) – If not None, use only the given lines (eg. (‘a’,’Kb’)).
If None, use all lines.</p></li>
<li><p><strong>only_one</strong> (<em>bool</em>) – If False, use all the lines of each element in the data spectral
range. If True use only the line at the highest energy
above an overvoltage of 2 (&lt; beam energy / 2).</p></li>
<li><p><strong>background_windows</strong> (<em>None</em><em> or </em><em>2D array of float</em>) – If not None, add markers at the position of the windows in energy.
Each line corresponds to a X-ray lines. In a line, the two first
value corresponds to the limit of the left window and the two
last values corresponds to the limit of the right window.</p></li>
<li><p><strong>integration_windows</strong> (<em>None</em><em> or </em><em>'auto'</em><em> or </em><em>float</em><em> or </em><em>2D array of float</em>) – If not None, add markers at the position of the integration
windows.
If ‘auto’ (or float), the width of the integration windows is 2.0
(or float) times the calculated FWHM of the line. see
‘estimate_integration_windows’.
Else provide an array for which each row corresponds to a X-ray
line. Each row contains the left and right value of the window.</p></li>
<li><p><strong>navigator</strong> (<em>{&quot;auto&quot;</em><em>, </em><em>None</em><em>, </em><em>&quot;slider&quot;</em><em>, </em><em>&quot;spectrum&quot;</em><em>, </em><em>Signal}</em>) – If “auto”, if navigation_dimension &gt; 0, a navigator is
provided to explore the data.
If navigation_dimension is 1 and the signal is an image
the navigator is a spectrum obtained by integrating
over the signal axes (the image).
If navigation_dimension is 1 and the signal is a spectrum
the navigator is an image obtained by stacking horizontally
all the spectra in the dataset.
If navigation_dimension is &gt; 1, the navigator is an image
obtained by integrating the data over the signal axes.
Additionaly, if navigation_dimension &gt; 2 a window
with one slider per axis is raised to navigate the data.
For example,
if the dataset consists of 3 navigation axes X, Y, Z and one
signal axis, E, the default navigator will be an image
obtained by integrating the data over E at the current Z
index and a window with sliders for the X, Y and Z axes
will be raised. Notice that changing the Z-axis index
changes the navigator in this case.
If “slider” and the navigation dimension &gt; 0 a window
with one slider per axis is raised to navigate the data.
If “spectrum” and navigation_dimension &gt; 0 the navigator
is always a spectrum obtained by integrating the data
over all other axes.
If None, no navigator will be provided.
Alternatively a Signal instance can be provided. The signal
dimension must be 1 (for a spectrum navigator) or 2 (for a
image navigator) and navigation_shape must be 0 (for a static
navigator) or navigation_shape + signal_shape must be equal
to the navigator_shape of the current object (for a dynamic
navigator).
If the signal dtype is RGB or RGBA this parameters has no
effect and is always “slider”.</p></li>
<li><p><strong>axes_manager</strong> (<em>{None</em><em>, </em><em>axes_manager}</em>) – If None <cite>axes_manager</cite> is used.</p></li>
<li><p><strong>plot_markers</strong> (<em>bool</em><em>, </em><em>default True</em>) – Plot markers added using s.add_marker(marker, permanent=True).
Note, a large number of markers might lead to very slow plotting.</p></li>
<li><p><strong>norm</strong> ({‘auto’, ‘linear’, ‘log’, mpl <cite>Normalize</cite> instance or subclass},) – default is ‘auto’.
Plot the intensity scale on a linear or logarithmic scale. If
‘auto’, plot the intensity on a linear scale except when
<cite>power_spectrum</cite> is True, which can be used only for compatible
signal. For Signal2D, a matplotlib <cite>Normalize</cite> subclass or
instance can be provided.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">example_signals</span><span class="o">.</span><span class="n">EDS_SEM_Spectrum</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">example_signals</span><span class="o">.</span><span class="n">EDS_SEM_Spectrum</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">example_signals</span><span class="o">.</span><span class="n">EDS_TEM_Spectrum</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">add_lines</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bw</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">estimate_background_windows</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">background_windows</span><span class="o">=</span><span class="n">bw</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">example_signals</span><span class="o">.</span><span class="n">EDS_SEM_Spectrum</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="s1">&#39;Mn_Ka&#39;</span><span class="p">],</span> <span class="n">integration_windows</span><span class="o">=</span><span class="s1">&#39;auto&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">example_signals</span><span class="o">.</span><span class="n">EDS_TEM_Spectrum</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">add_lines</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bw</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">estimate_background_windows</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">background_windows</span><span class="o">=</span><span class="n">bw</span><span class="p">,</span> <span class="n">integration_windows</span><span class="o">=</span><span class="mf">2.1</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#hyperspy._signals.eds.EDS_mixin.set_elements" title="hyperspy._signals.eds.EDS_mixin.set_elements"><code class="xref py py-meth docutils literal notranslate"><span class="pre">set_elements()</span></code></a>, <a class="reference internal" href="#hyperspy._signals.eds.EDS_mixin.add_elements" title="hyperspy._signals.eds.EDS_mixin.add_elements"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_elements()</span></code></a>, <a class="reference internal" href="#hyperspy._signals.eds.EDS_mixin.estimate_integration_windows" title="hyperspy._signals.eds.EDS_mixin.estimate_integration_windows"><code class="xref py py-meth docutils literal notranslate"><span class="pre">estimate_integration_windows()</span></code></a>, <a class="reference internal" href="#hyperspy._signals.eds.EDS_mixin.get_lines_intensity" title="hyperspy._signals.eds.EDS_mixin.get_lines_intensity"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_lines_intensity()</span></code></a>, <a class="reference internal" href="#hyperspy._signals.eds.EDS_mixin.estimate_background_windows" title="hyperspy._signals.eds.EDS_mixin.estimate_background_windows"><code class="xref py py-meth docutils literal notranslate"><span class="pre">estimate_background_windows()</span></code></a></p>
</div>
</dd></dl>

<dl class="method">
<dt id="hyperspy._signals.eds.EDS_mixin.rebin">
<code class="sig-name descname">rebin</code><span class="sig-paren">(</span><em class="sig-param">new_shape=None</em>, <em class="sig-param">scale=None</em>, <em class="sig-param">crop=True</em>, <em class="sig-param">out=None</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.eds.EDS_mixin.rebin" title="Permalink to this definition">¶</a></dt>
<dd><p>Rebin array.</p>
<p>Rebin the signal into a smaller or larger shape, based on linear
interpolation. Specify <strong>either</strong> new_shape or scale.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>new_shape</strong> (<em>a list of floats</em><em> or </em><em>integer</em><em>, </em><em>default None</em>) – For each dimension specify the new_shape. This will
then be converted into a scale.</p></li>
<li><p><strong>scale</strong> (<em>a list of floats</em><em> or </em><em>integer</em><em>, </em><em>default None</em>) – For each dimension specify the new:old pixel ratio, e.g. a ratio of 1
is no binning and a ratio of 2 means that each pixel in the new
spectrum is twice the size of the pixels in the old spectrum.
The length of the list should match the dimension of the numpy array.
<strong>*Note : Only one of scale or new_shape should be specified otherwise
the function will not run*</strong></p></li>
<li><p><strong>crop</strong> (<em>bool</em><em>, </em><em>default True</em>) – <p>When binning by a non-integer number of pixels it is likely that
the final row in each dimension contains less than the full quota to
fill one pixel.</p>
<p>e.g. 5*5 array binned by 2.1 will produce two rows containing 2.1
pixels and one row containing only 0.8 pixels worth. Selection of
crop=’True’ or crop=’False’ determines whether or not this
‘black’ line is cropped from the final binned array or not.</p>
<p><em>Please note that if crop=False is used, the final row in each
dimension may appear black, if a fractional number of pixels are left
over. It can be removed but has been left to preserve total counts
before and after binning.</em></p>
</p></li>
<li><p><strong>out</strong> (<cite>Signal</cite> or None) – If None, a new Signal is created with the result of the operation
and returned (default). If a Signal is passed, it is used to
receive the output of the operation, and nothing is returned.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>s</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Signal subclass</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">spectrum</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">EDSTEMSpectrum</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">10</span><span class="p">]))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">spectrum</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">9</span><span class="p">]</span> <span class="o">=</span> <span class="mi">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">spectrum</span><span class="p">)</span>
<span class="go">&lt;EDXTEMSpectrum, title: dimensions: (4, 4|10)&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="p">(</span><span class="s1">&#39;Sum = &#39;</span><span class="p">,</span> <span class="nb">sum</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">spectrum</span><span class="o">.</span><span class="n">data</span><span class="p">))))</span>
<span class="go">Sum = 164.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scale</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test</span> <span class="o">=</span> <span class="n">spectrum</span><span class="o">.</span><span class="n">rebin</span><span class="p">(</span><span class="n">scale</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">test</span><span class="p">)</span>
<span class="go">&lt;EDSTEMSpectrum, title: dimensions (2, 2|2)&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Sum = &#39;</span><span class="p">,</span> <span class="nb">sum</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">test</span><span class="o">.</span><span class="n">data</span><span class="p">))))</span>
<span class="go">Sum =  164.0</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="hyperspy._signals.eds.EDS_mixin.remove_xray_lines_markers">
<code class="sig-name descname">remove_xray_lines_markers</code><span class="sig-paren">(</span><em class="sig-param">xray_lines</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.eds.EDS_mixin.remove_xray_lines_markers" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove marker previosuly added on a spec.plot() with the name of the
selected X-ray lines</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>xray_lines</strong> (<em>list of string</em>) – A valid list of X-ray lines to remove</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="hyperspy._signals.eds.EDS_mixin.set_elements">
<code class="sig-name descname">set_elements</code><span class="sig-paren">(</span><em class="sig-param">elements</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.eds.EDS_mixin.set_elements" title="Permalink to this definition">¶</a></dt>
<dd><p>Erase all elements and set them.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>elements</strong> (<em>list of strings</em>) – A list of chemical element symbols.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#hyperspy._signals.eds.EDS_mixin.add_elements" title="hyperspy._signals.eds.EDS_mixin.add_elements"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_elements()</span></code></a>, <a class="reference internal" href="#hyperspy._signals.eds.EDS_mixin.set_lines" title="hyperspy._signals.eds.EDS_mixin.set_lines"><code class="xref py py-meth docutils literal notranslate"><span class="pre">set_lines()</span></code></a>, <a class="reference internal" href="#hyperspy._signals.eds.EDS_mixin.add_lines" title="hyperspy._signals.eds.EDS_mixin.add_lines"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_lines()</span></code></a></p>
</div>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">example_signals</span><span class="o">.</span><span class="n">EDS_SEM_Spectrum</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">Sample</span><span class="o">.</span><span class="n">elements</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">set_elements</span><span class="p">([</span><span class="s1">&#39;Al&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">Sample</span><span class="o">.</span><span class="n">elements</span><span class="p">)</span>
<span class="go">[&#39;Al&#39; &#39;C&#39; &#39;Cu&#39; &#39;Mn&#39; &#39;Zr&#39;]</span>
<span class="go">[&#39;Al&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="hyperspy._signals.eds.EDS_mixin.set_lines">
<code class="sig-name descname">set_lines</code><span class="sig-paren">(</span><em class="sig-param">lines</em>, <em class="sig-param">only_one=True</em>, <em class="sig-param">only_lines=('a'</em>, <em class="sig-param">)</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.eds.EDS_mixin.set_lines" title="Permalink to this definition">¶</a></dt>
<dd><p>Erase all Xrays lines and set them.</p>
<p>See add_lines for details.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lines</strong> (<em>list of strings</em>) – A list of valid element X-ray lines to add e.g. Fe_Kb.
Additionally, if <cite>metadata.Sample.elements</cite> is
defined, add the lines of those elements that where not
given in this list.</p></li>
<li><p><strong>only_one</strong> (<em>bool</em>) – If False, add all the lines of each element in
<cite>metadata.Sample.elements</cite> that has not line
defined in lines. If True (default),
only add the line at the highest energy
above an overvoltage of 2 (&lt; beam energy / 2).</p></li>
<li><p><strong>only_lines</strong> (<em>{None</em><em>, </em><em>list of strings}</em>) – If not None, only the given lines will be added.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">example_signals</span><span class="o">.</span><span class="n">EDS_SEM_Spectrum</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">add_lines</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">Sample</span><span class="o">.</span><span class="n">xray_lines</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">set_lines</span><span class="p">([</span><span class="s1">&#39;Cu_Ka&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">Sample</span><span class="o">.</span><span class="n">xray_lines</span><span class="p">)</span>
<span class="go">[&#39;Al_Ka&#39;, &#39;C_Ka&#39;, &#39;Cu_La&#39;, &#39;Mn_La&#39;, &#39;Zr_La&#39;]</span>
<span class="go">[&#39;Al_Ka&#39;, &#39;C_Ka&#39;, &#39;Cu_Ka&#39;, &#39;Mn_La&#39;, &#39;Zr_La&#39;]</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#hyperspy._signals.eds.EDS_mixin.add_lines" title="hyperspy._signals.eds.EDS_mixin.add_lines"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_lines()</span></code></a>, <a class="reference internal" href="#hyperspy._signals.eds.EDS_mixin.add_elements" title="hyperspy._signals.eds.EDS_mixin.add_elements"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_elements()</span></code></a>, <a class="reference internal" href="#hyperspy._signals.eds.EDS_mixin.set_elements" title="hyperspy._signals.eds.EDS_mixin.set_elements"><code class="xref py py-meth docutils literal notranslate"><span class="pre">set_elements()</span></code></a></p>
</div>
</dd></dl>

<dl class="method">
<dt id="hyperspy._signals.eds.EDS_mixin.sum">
<code class="sig-name descname">sum</code><span class="sig-paren">(</span><em class="sig-param">axis=None</em>, <em class="sig-param">out=None</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.eds.EDS_mixin.sum" title="Permalink to this definition">¶</a></dt>
<dd><p>Sum the data over the given axes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>axis</strong> (int, str, <cite>axis</cite>, tuple of <cite>axis</cite> or None) – Either one on its own, or many axes in a tuple can be passed. In
both cases the axes can be passed directly, or specified using the
index in <cite>axes_manager</cite> or the name of the axis. Any duplicates are
removed. If None, the operation is performed over all navigation
axes (default).</p></li>
<li><p><strong>out</strong> (<cite>Signal</cite> or None) – If None, a new Signal is created with the result of the operation
and returned (default). If a Signal is passed, it is used to
receive the output of the operation, and nothing is returned.</p></li>
<li><p><strong>rechunk</strong> (<em>bool</em>) – Only has effect when operating on lazy signal. If <cite>True</cite> (default),
the data may be automatically rechunked before performing this operation.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>s</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Signal</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><code class="xref py py-meth docutils literal notranslate"><span class="pre">max()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">min()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">mean()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">std()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">var()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">indexmax()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">valuemax()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">amax()</span></code></p>
</div>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">BaseSignal</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">((</span><span class="mi">64</span><span class="p">,</span><span class="mi">64</span><span class="p">,</span><span class="mi">1024</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(64,64,1024)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(64,64)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="hyperspy._signals.eds.LazyEDSSpectrum">
<em class="property">class </em><code class="sig-prename descclassname">hyperspy._signals.eds.</code><code class="sig-name descname">LazyEDSSpectrum</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwards</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.eds.LazyEDSSpectrum" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#hyperspy._signals.eds.EDSSpectrum" title="hyperspy._signals.eds.EDSSpectrum"><code class="xref py py-class docutils literal notranslate"><span class="pre">hyperspy._signals.eds.EDSSpectrum</span></code></a>, <a class="reference internal" href="hyperspy._signals.signal1d.html#hyperspy._signals.signal1d.LazySignal1D" title="hyperspy._signals.signal1d.LazySignal1D"><code class="xref py py-class docutils literal notranslate"><span class="pre">hyperspy._signals.signal1d.LazySignal1D</span></code></a></p>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="hyperspy._signals.eds_sem.html" class="btn btn-neutral float-right" title="hyperspy._signals.eds_sem module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="hyperspy._signals.dielectric_function.html" class="btn btn-neutral" title="hyperspy._signals.dielectric_function module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2011-2018, The HyperSpy development team

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script type="text/javascript" src="../_static/copybutton.js"></script>
    

  

  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>