

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>hyperspy.io_plugins.bruker module &mdash; HyperSpy 1.5.2 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/hyperspy.ico"/>
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script type="text/javascript" src="../_static/copybutton.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="hyperspy.io_plugins.dens module" href="hyperspy.io_plugins.dens.html" />
    <link rel="prev" title="hyperspy.io_plugins.blockfile module" href="hyperspy.io_plugins.blockfile.html" />
 
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-25260850-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> HyperSpy
          

          
            
            <img src="../_static/hyperspy_logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                1.5.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../user_guide/index.html">HyperSpy User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev_guide/index.html">Developer Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">Full HyperSpy API Documentation</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="hyperspy.html">hyperspy package</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="hyperspy.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="hyperspy._components.html">hyperspy._components package</a></li>
<li class="toctree-l4"><a class="reference internal" href="hyperspy._signals.html">hyperspy._signals package</a></li>
<li class="toctree-l4"><a class="reference internal" href="hyperspy.datasets.html">hyperspy.datasets package</a></li>
<li class="toctree-l4"><a class="reference internal" href="hyperspy.docstrings.html">hyperspy.docstrings package</a></li>
<li class="toctree-l4"><a class="reference internal" href="hyperspy.drawing.html">hyperspy.drawing package</a></li>
<li class="toctree-l4"><a class="reference internal" href="hyperspy.external.html">hyperspy.external package</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="hyperspy.io_plugins.html">hyperspy.io_plugins package</a></li>
<li class="toctree-l4"><a class="reference internal" href="hyperspy.learn.html">hyperspy.learn package</a></li>
<li class="toctree-l4"><a class="reference internal" href="hyperspy.misc.html">hyperspy.misc package</a></li>
<li class="toctree-l4"><a class="reference internal" href="hyperspy.models.html">hyperspy.models package</a></li>
<li class="toctree-l4"><a class="reference internal" href="hyperspy.samfire_utils.html">hyperspy.samfire_utils package</a></li>
<li class="toctree-l4"><a class="reference internal" href="hyperspy.tests.html">hyperspy.tests package</a></li>
<li class="toctree-l4"><a class="reference internal" href="hyperspy.utils.html">hyperspy.utils package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="hyperspy.html#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="hyperspy.html#module-hyperspy">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../credits.html">Credits</a></li>
<li class="toctree-l1"><a class="reference internal" href="../citing.html">Citing HyperSpy</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">HyperSpy</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="modules.html">hyperspy</a> &raquo;</li>
        
          <li><a href="hyperspy.html">hyperspy package</a> &raquo;</li>
        
          <li><a href="hyperspy.io_plugins.html">hyperspy.io_plugins package</a> &raquo;</li>
        
      <li>hyperspy.io_plugins.bruker module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/api/hyperspy.io_plugins.bruker.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-hyperspy.io_plugins.bruker">
<span id="hyperspy-io-plugins-bruker-module"></span><h1>hyperspy.io_plugins.bruker module<a class="headerlink" href="#module-hyperspy.io_plugins.bruker" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="hyperspy.io_plugins.bruker.BCF_reader">
<em class="property">class </em><code class="sig-prename descclassname">hyperspy.io_plugins.bruker.</code><code class="sig-name descname">BCF_reader</code><span class="sig-paren">(</span><em class="sig-param">filename</em>, <em class="sig-param">instrument=None</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.io_plugins.bruker.BCF_reader" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#hyperspy.io_plugins.bruker.SFS_reader" title="hyperspy.io_plugins.bruker.SFS_reader"><code class="xref py py-class docutils literal notranslate"><span class="pre">hyperspy.io_plugins.bruker.SFS_reader</span></code></a></p>
<p>Class to read bcf (Bruker hypermapping) file.</p>
<p>Inherits SFS_reader and all its attributes and methods.</p>
<p>Attributes:
filename</p>
<p>Methods:
check_index_valid, parse_hypermap</p>
<p>The class instantiates HyperHeader class as self.header attribute
where all metadata, sum eds spectras, (SEM) images are stored.</p>
<dl class="method">
<dt id="hyperspy.io_plugins.bruker.BCF_reader.add_filename_to_general">
<code class="sig-name descname">add_filename_to_general</code><span class="sig-paren">(</span><em class="sig-param">item</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.io_plugins.bruker.BCF_reader.add_filename_to_general" title="Permalink to this definition">¶</a></dt>
<dd><p>hypy helper method</p>
</dd></dl>

<dl class="method">
<dt id="hyperspy.io_plugins.bruker.BCF_reader.check_index_valid">
<code class="sig-name descname">check_index_valid</code><span class="sig-paren">(</span><em class="sig-param">index</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.io_plugins.bruker.BCF_reader.check_index_valid" title="Permalink to this definition">¶</a></dt>
<dd><p>check and return if index is valid</p>
</dd></dl>

<dl class="method">
<dt id="hyperspy.io_plugins.bruker.BCF_reader.parse_hypermap">
<code class="sig-name descname">parse_hypermap</code><span class="sig-paren">(</span><em class="sig-param">index=None</em>, <em class="sig-param">downsample=1</em>, <em class="sig-param">cutoff_at_kV=None</em>, <em class="sig-param">lazy=False</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.io_plugins.bruker.BCF_reader.parse_hypermap" title="Permalink to this definition">¶</a></dt>
<dd><p>Unpack the Delphi/Bruker binary spectral map and return
numpy array in memory efficient way.</p>
<p>Pure python/numpy implementation – slow, or
cython/memoryview/numpy implimentation if compilied and present
(fast) is used.</p>
<p>Arguments:
index – the index of hypermap in bcf if there is more than one</p>
<blockquote>
<div><p>hyper map in file.</p>
</div></blockquote>
<dl class="simple">
<dt>downsample – downsampling factor (integer). Diferently than</dt><dd><p>block_reduce from skimage.measure, the parser populates
reduced array by suming results of pixels, thus having lower
memory requiriments. (default 1)</p>
</dd>
<dt>cutoff_at_kV – value in keV to truncate the array at. Helps reducing</dt><dd><p>size of array. (default None)</p>
</dd>
</dl>
<p>lazy – return dask.array (True) or numpy.array (False) (default False)</p>
<p>Returns:
numpy or dask array of bruker hypermap, with (y,x,E) shape.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="hyperspy.io_plugins.bruker.Container">
<em class="property">class </em><code class="sig-prename descclassname">hyperspy.io_plugins.bruker.</code><code class="sig-name descname">Container</code><a class="headerlink" href="#hyperspy.io_plugins.bruker.Container" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
</dd></dl>

<dl class="class">
<dt id="hyperspy.io_plugins.bruker.EDXSpectrum">
<em class="property">class </em><code class="sig-prename descclassname">hyperspy.io_plugins.bruker.</code><code class="sig-name descname">EDXSpectrum</code><span class="sig-paren">(</span><em class="sig-param">spectrum</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.io_plugins.bruker.EDXSpectrum" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Wrap the objectified bruker EDS spectrum xml part
to the python object, leaving all the xml and bruker clutter behind.</p>
<p>Arguments:
spectrum – etree xml object, where spectrum.attrib[‘Type’] should</p>
<blockquote>
<div><p>be ‘TRTSpectrum’</p>
</div></blockquote>
<dl class="method">
<dt id="hyperspy.io_plugins.bruker.EDXSpectrum.energy_to_channel">
<code class="sig-name descname">energy_to_channel</code><span class="sig-paren">(</span><em class="sig-param">energy</em>, <em class="sig-param">kV=True</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.io_plugins.bruker.EDXSpectrum.energy_to_channel" title="Permalink to this definition">¶</a></dt>
<dd><p>convert energy to channel index,
optional kwarg ‘kV’ (default: True) should be set to False
if given energy units is in V</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="hyperspy.io_plugins.bruker.HyperHeader">
<em class="property">class </em><code class="sig-prename descclassname">hyperspy.io_plugins.bruker.</code><code class="sig-name descname">HyperHeader</code><span class="sig-paren">(</span><em class="sig-param">xml_str</em>, <em class="sig-param">indexes</em>, <em class="sig-param">instrument=None</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.io_plugins.bruker.HyperHeader" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Wrap Bruker HyperMaping xml header into python object.</p>
<p>Arguments:
xml_str – the uncompressed to be provided with extracted Header xml
from bcf.
indexes – list of indexes of available datasets</p>
<p>Methods:
estimate_map_channels, estimate_map_depth</p>
<p>If Bcf is version 2, the bcf can contain stacks
of hypermaps - thus header part  can contain multiply sum eds spectras
and it’s metadata per hypermap slice which can be selected using index.
Bcf can record number of imagery from different
imagining detectors (BSE, SEI, ARGUS, etc…): access to imagery
is throught image index.</p>
<dl class="method">
<dt id="hyperspy.io_plugins.bruker.HyperHeader.calc_real_time">
<code class="sig-name descname">calc_real_time</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.io_plugins.bruker.HyperHeader.calc_real_time" title="Permalink to this definition">¶</a></dt>
<dd><p>calculate and return real time for whole hypermap
in seconds</p>
</dd></dl>

<dl class="method">
<dt id="hyperspy.io_plugins.bruker.HyperHeader.estimate_map_channels">
<code class="sig-name descname">estimate_map_channels</code><span class="sig-paren">(</span><em class="sig-param">index=0</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.io_plugins.bruker.HyperHeader.estimate_map_channels" title="Permalink to this definition">¶</a></dt>
<dd><p>estimate minimal size of energy axis so any spectra from any pixel
would not be truncated.</p>
<p>Arguments:
index – index of the map if multiply hypermaps are present
in the same bcf.</p>
<p>Returns:
optimal channel number</p>
</dd></dl>

<dl class="method">
<dt id="hyperspy.io_plugins.bruker.HyperHeader.estimate_map_depth">
<code class="sig-name descname">estimate_map_depth</code><span class="sig-paren">(</span><em class="sig-param">index=0</em>, <em class="sig-param">downsample=1</em>, <em class="sig-param">for_numpy=False</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.io_plugins.bruker.HyperHeader.estimate_map_depth" title="Permalink to this definition">¶</a></dt>
<dd><p>estimate minimal dtype of array using cumulative spectra
of the all pixels so that no data would be truncated.</p>
<p>Arguments:
index – index of the hypermap if multiply hypermaps are</p>
<blockquote>
<div><p>present in the same bcf. (default 0)</p>
</div></blockquote>
<p>downsample – downsample factor (should be integer; default 1)
for_numpy – False produce unsigned, True signed (or unsigned) types:</p>
<blockquote>
<div><p>if hypermap will be loaded using the pure python
function where numpy’s inplace integer addition will be used –
the dtype should be signed; if cython implementation will
be used (default), then any returned dtypes can be safely
unsigned. (default False)</p>
</div></blockquote>
<p>Returns:
numpy dtype large enought to use in final hypermap numpy array.</p>
<p>The method estimates the value from sum eds spectra, dividing
the maximum  energy pulse value from raster x and y and to be on the
safe side multiplying by 2.</p>
</dd></dl>

<dl class="method">
<dt id="hyperspy.io_plugins.bruker.HyperHeader.gen_hspy_item_dict_basic">
<code class="sig-name descname">gen_hspy_item_dict_basic</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.io_plugins.bruker.HyperHeader.gen_hspy_item_dict_basic" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="hyperspy.io_plugins.bruker.HyperHeader.get_acq_instrument_dict">
<code class="sig-name descname">get_acq_instrument_dict</code><span class="sig-paren">(</span><em class="sig-param">detector=False</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.io_plugins.bruker.HyperHeader.get_acq_instrument_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>return python dictionary with aquisition instrument
mandatory data</p>
</dd></dl>

<dl class="method">
<dt id="hyperspy.io_plugins.bruker.HyperHeader.get_spectra_metadata">
<code class="sig-name descname">get_spectra_metadata</code><span class="sig-paren">(</span><em class="sig-param">index=0</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.io_plugins.bruker.HyperHeader.get_spectra_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>return objectified xml with spectra metadata
Arguments:
index – index of hypermap/spectra (default 0)</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="hyperspy.io_plugins.bruker.SFSTreeItem">
<em class="property">class </em><code class="sig-prename descclassname">hyperspy.io_plugins.bruker.</code><code class="sig-name descname">SFSTreeItem</code><span class="sig-paren">(</span><em class="sig-param">item_raw_string</em>, <em class="sig-param">parent</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.io_plugins.bruker.SFSTreeItem" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Class to manage one internal sfs file.</p>
<p>Reading, reading in chunks, reading and extracting, reading without
extracting even if compression is pressent.</p>
<p>Attributes:
item_raw_string – the bytes from sfs file table describing the file
parent – the item higher hierarchicaly in the sfs file tree</p>
<p>Methods:
read_piece, setup_compression_metadata, get_iter_and_properties,
get_as_BytesIO_string</p>
<dl class="method">
<dt id="hyperspy.io_plugins.bruker.SFSTreeItem.get_as_BytesIO_string">
<code class="sig-name descname">get_as_BytesIO_string</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.io_plugins.bruker.SFSTreeItem.get_as_BytesIO_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the whole file as io.BytesIO object (in memory!).</p>
</dd></dl>

<dl class="method">
<dt id="hyperspy.io_plugins.bruker.SFSTreeItem.get_iter_and_properties">
<code class="sig-name descname">get_iter_and_properties</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.io_plugins.bruker.SFSTreeItem.get_iter_and_properties" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate and return the iterator of data chunks and
properties of such chunks such as size and count.</p>
<p>Method detects if data is compressed and uses iterator with
decompression involved, else uses simple iterator of chunks.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>(iterator, chunk_size, number_of_chunks)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="hyperspy.io_plugins.bruker.SFSTreeItem.read_piece">
<code class="sig-name descname">read_piece</code><span class="sig-paren">(</span><em class="sig-param">offset</em>, <em class="sig-param">length</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.io_plugins.bruker.SFSTreeItem.read_piece" title="Permalink to this definition">¶</a></dt>
<dd><p>Read and returns raw byte string of the file without applying
any decompression.</p>
<p>Arguments:
offset: seek value
length: length of the data counting from the offset</p>
<p>Returns:
io.ByteIO object</p>
</dd></dl>

<dl class="method">
<dt id="hyperspy.io_plugins.bruker.SFSTreeItem.setup_compression_metadata">
<code class="sig-name descname">setup_compression_metadata</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.io_plugins.bruker.SFSTreeItem.setup_compression_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>parse and setup the number of compression chunks</p>
<p>and uncompressed chunk size as class attributes.</p>
<p>Sets up attributes:
self.uncompressed_blk_size, self.no_of_compr_blk</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="hyperspy.io_plugins.bruker.SFS_reader">
<em class="property">class </em><code class="sig-prename descclassname">hyperspy.io_plugins.bruker.</code><code class="sig-name descname">SFS_reader</code><span class="sig-paren">(</span><em class="sig-param">filename</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.io_plugins.bruker.SFS_reader" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Class to read sfs file.
SFS is AidAim software’s(tm) single file system.
The class provides basic reading capabilities of such container.
It is capable to read compressed data in zlib, but
SFS can contain other compression which is not implemented here.
It is also not able to read encrypted sfs containers.</p>
<p>This class can be used stand alone or inherited in construction of
file readers using sfs technolgy.</p>
<p>Attributes:
filename</p>
<p>Methods:
get_file</p>
<dl class="method">
<dt id="hyperspy.io_plugins.bruker.SFS_reader.get_file">
<code class="sig-name descname">get_file</code><span class="sig-paren">(</span><em class="sig-param">path</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.io_plugins.bruker.SFS_reader.get_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the SFSTreeItem (aka internal file) object from
sfs container.</p>
<p>Arguments:
path – internal file path in sfs file tree. Path accepts only</p>
<blockquote>
<div><p>standard - forward slash for directories.</p>
</div></blockquote>
<p>Returns:
object (SFSTreeItem), which can be read into byte stream, in
chunks or whole using objects methods.</p>
<p>Example:
to get “file” object ‘kitten.png’ in folder ‘catz’ which
resides in root directory of sfs, you would use:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">instance_of_SFSReader</span><span class="o">.</span><span class="n">get_file</span><span class="p">(</span><span class="s1">&#39;catz/kitten.png&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>See also:
SFSTreeItem</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="hyperspy.io_plugins.bruker.bcf_hyperspectra">
<code class="sig-prename descclassname">hyperspy.io_plugins.bruker.</code><code class="sig-name descname">bcf_hyperspectra</code><span class="sig-paren">(</span><em class="sig-param">obj_bcf</em>, <em class="sig-param">index=None</em>, <em class="sig-param">downsample=None</em>, <em class="sig-param">cutoff_at_kV=None</em>, <em class="sig-param">lazy=False</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.io_plugins.bruker.bcf_hyperspectra" title="Permalink to this definition">¶</a></dt>
<dd><p>Return hyperspy required list of dict with eds
hyperspectra and metadata.</p>
</dd></dl>

<dl class="function">
<dt id="hyperspy.io_plugins.bruker.bcf_images">
<code class="sig-prename descclassname">hyperspy.io_plugins.bruker.</code><code class="sig-name descname">bcf_images</code><span class="sig-paren">(</span><em class="sig-param">obj_bcf</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.io_plugins.bruker.bcf_images" title="Permalink to this definition">¶</a></dt>
<dd><p>return hyperspy required list of dict with sem
images and metadata.</p>
</dd></dl>

<dl class="function">
<dt id="hyperspy.io_plugins.bruker.bcf_reader">
<code class="sig-prename descclassname">hyperspy.io_plugins.bruker.</code><code class="sig-name descname">bcf_reader</code><span class="sig-paren">(</span><em class="sig-param">filename</em>, <em class="sig-param">select_type=None</em>, <em class="sig-param">index=None</em>, <em class="sig-param">downsample=1</em>, <em class="sig-param">cutoff_at_kV=None</em>, <em class="sig-param">instrument=None</em>, <em class="sig-param">lazy=False</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.io_plugins.bruker.bcf_reader" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads a bruker bcf file and loads the data into the appropriate class,
then wraps it into appropriate hyperspy required list of dictionaries
used by hyperspy.api.load() method.</p>
<p>Keyword arguments:
select_type – One of: spectrum_image, image. If none specified, then function</p>
<blockquote>
<div><p>loads everything, else if specified, loads either just sem imagery,
or just hyper spectral mapping data (default None).</p>
</div></blockquote>
<dl class="simple">
<dt>index – index of dataset in bcf v2 can be None integer and ‘all’</dt><dd><p>(default None); None will select first available mapping if more than one.
‘all’ will return all maps if more than one present;
integer will return only selected map.</p>
</dd>
<dt>downsample – the downsample ratio of hyperspectral array (downsampling</dt><dd><p>height and width only), can be integer from 1 to inf, where ‘1’ means
no downsampling will be applied (default 1).</p>
</dd>
<dt>cutoff_at_kV – if set (can be int of float &gt;= 0) can be used either, to</dt><dd><p>crop or enlarge energy range at max values. (default None)</p>
</dd>
</dl>
<p>instrument – str, either ‘TEM’ or ‘SEM’. Default is None.</p>
</dd></dl>

<dl class="function">
<dt id="hyperspy.io_plugins.bruker.dictionarize">
<code class="sig-prename descclassname">hyperspy.io_plugins.bruker.</code><code class="sig-name descname">dictionarize</code><span class="sig-paren">(</span><em class="sig-param">t</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.io_plugins.bruker.dictionarize" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="hyperspy.io_plugins.bruker.file_reader">
<code class="sig-prename descclassname">hyperspy.io_plugins.bruker.</code><code class="sig-name descname">file_reader</code><span class="sig-paren">(</span><em class="sig-param">filename</em>, <em class="sig-param">*args</em>, <em class="sig-param">**kwds</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.io_plugins.bruker.file_reader" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="hyperspy.io_plugins.bruker.gen_detector_node">
<code class="sig-prename descclassname">hyperspy.io_plugins.bruker.</code><code class="sig-name descname">gen_detector_node</code><span class="sig-paren">(</span><em class="sig-param">spectrum</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.io_plugins.bruker.gen_detector_node" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="hyperspy.io_plugins.bruker.gen_elem_list">
<code class="sig-prename descclassname">hyperspy.io_plugins.bruker.</code><code class="sig-name descname">gen_elem_list</code><span class="sig-paren">(</span><em class="sig-param">the_dict</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.io_plugins.bruker.gen_elem_list" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="hyperspy.io_plugins.bruker.gen_iso_date_time">
<code class="sig-prename descclassname">hyperspy.io_plugins.bruker.</code><code class="sig-name descname">gen_iso_date_time</code><span class="sig-paren">(</span><em class="sig-param">node</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.io_plugins.bruker.gen_iso_date_time" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="hyperspy.io_plugins.bruker.get_mapping">
<code class="sig-prename descclassname">hyperspy.io_plugins.bruker.</code><code class="sig-name descname">get_mapping</code><span class="sig-paren">(</span><em class="sig-param">mode</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.io_plugins.bruker.get_mapping" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="hyperspy.io_plugins.bruker.guess_mode">
<code class="sig-prename descclassname">hyperspy.io_plugins.bruker.</code><code class="sig-name descname">guess_mode</code><span class="sig-paren">(</span><em class="sig-param">hv</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.io_plugins.bruker.guess_mode" title="Permalink to this definition">¶</a></dt>
<dd><p>there is no way to determine what kind of instrument
was used from metadata: TEM or SEM.
However simple guess can be made using the acceleration
voltage, assuming that SEM is &lt;= 30kV or TEM is &gt;30kV</p>
</dd></dl>

<dl class="function">
<dt id="hyperspy.io_plugins.bruker.interpret">
<code class="sig-prename descclassname">hyperspy.io_plugins.bruker.</code><code class="sig-name descname">interpret</code><span class="sig-paren">(</span><em class="sig-param">string</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.io_plugins.bruker.interpret" title="Permalink to this definition">¶</a></dt>
<dd><p>interpret any string and return casted to appropriate
dtype python object</p>
</dd></dl>

<dl class="function">
<dt id="hyperspy.io_plugins.bruker.parse_line">
<code class="sig-prename descclassname">hyperspy.io_plugins.bruker.</code><code class="sig-name descname">parse_line</code><span class="sig-paren">(</span><em class="sig-param">line_string</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.io_plugins.bruker.parse_line" title="Permalink to this definition">¶</a></dt>
<dd><p>standardize line describtion.</p>
<p>Bruker saves line description in all caps
and omits the type if only one exists instead of
using alfa</p>
</dd></dl>

<dl class="function">
<dt id="hyperspy.io_plugins.bruker.py_parse_hypermap">
<code class="sig-prename descclassname">hyperspy.io_plugins.bruker.</code><code class="sig-name descname">py_parse_hypermap</code><span class="sig-paren">(</span><em class="sig-param">virtual_file</em>, <em class="sig-param">shape</em>, <em class="sig-param">dtype</em>, <em class="sig-param">downsample=1</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.io_plugins.bruker.py_parse_hypermap" title="Permalink to this definition">¶</a></dt>
<dd><p>Unpack the Delphi/Bruker binary spectral map and return
numpy array in memory efficient way using pure python implementation.
(Slow!)</p>
<p>The function is long and complicated due to complexity of Delphi packed
array.
Whole parsing is placed in one function to reduce overhead of
python function calls. For cleaner parsing logic, please, see
fast cython implementation at hyperspy/io_plugins/unbcf_fast.pyx</p>
<p>The method is only meant to be used if for some
reason c (generated with cython) version of the parser is not compiled.</p>
<dl class="simple">
<dt>virtual_file – virtual file handle returned by SFS_reader instance</dt><dd><p>or by object inheriting it (e.g. BCF_reader instance)</p>
</dd>
</dl>
<p>shape – numpy shape
dtype – numpy dtype
downsample – downsample factor</p>
<p>note!: downsample, shape and dtype are interconnected and needs
to be properly calculated otherwise wrong output or segfault
is expected</p>
<p>numpy array of bruker hypermap, with (y, x, E) shape.</p>
</dd></dl>

<dl class="function">
<dt id="hyperspy.io_plugins.bruker.spx_reader">
<code class="sig-prename descclassname">hyperspy.io_plugins.bruker.</code><code class="sig-name descname">spx_reader</code><span class="sig-paren">(</span><em class="sig-param">filename</em>, <em class="sig-param">lazy=False</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.io_plugins.bruker.spx_reader" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="hyperspy.io_plugins.dens.html" class="btn btn-neutral float-right" title="hyperspy.io_plugins.dens module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="hyperspy.io_plugins.blockfile.html" class="btn btn-neutral float-left" title="hyperspy.io_plugins.blockfile module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2011-2019, The HyperSpy development team

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>