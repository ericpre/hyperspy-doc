

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>hyperspy.learn.mva module &mdash; HyperSpy 1.4.1 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/hyperspy.ico"/>
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="hyperspy.learn.onmf module" href="hyperspy.learn.onmf.html" />
    <link rel="prev" title="hyperspy.learn.mlpca module" href="hyperspy.learn.mlpca.html" />
 
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-25260850-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>


  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> HyperSpy
          

          
            
            <img src="../_static/hyperspy_logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                1.4.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../user_guide/index.html">HyperSpy User Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">Full HyperSpy API Documentation</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="hyperspy.html">hyperspy package</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="hyperspy.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="hyperspy._components.html">hyperspy._components package</a></li>
<li class="toctree-l4"><a class="reference internal" href="hyperspy._signals.html">hyperspy._signals package</a></li>
<li class="toctree-l4"><a class="reference internal" href="hyperspy.datasets.html">hyperspy.datasets package</a></li>
<li class="toctree-l4"><a class="reference internal" href="hyperspy.docstrings.html">hyperspy.docstrings package</a></li>
<li class="toctree-l4"><a class="reference internal" href="hyperspy.drawing.html">hyperspy.drawing package</a></li>
<li class="toctree-l4"><a class="reference internal" href="hyperspy.external.html">hyperspy.external package</a></li>
<li class="toctree-l4"><a class="reference internal" href="hyperspy.io_plugins.html">hyperspy.io_plugins package</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="hyperspy.learn.html">hyperspy.learn package</a></li>
<li class="toctree-l4"><a class="reference internal" href="hyperspy.misc.html">hyperspy.misc package</a></li>
<li class="toctree-l4"><a class="reference internal" href="hyperspy.models.html">hyperspy.models package</a></li>
<li class="toctree-l4"><a class="reference internal" href="hyperspy.samfire_utils.html">hyperspy.samfire_utils package</a></li>
<li class="toctree-l4"><a class="reference internal" href="hyperspy.tests.html">hyperspy.tests package</a></li>
<li class="toctree-l4"><a class="reference internal" href="hyperspy.utils.html">hyperspy.utils package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="hyperspy.html#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="hyperspy.html#module-hyperspy">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../dev_guide.html">Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../credits.html">Credits</a></li>
<li class="toctree-l1"><a class="reference internal" href="../citing.html">Citing HyperSpy</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">HyperSpy</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="modules.html">hyperspy</a> &raquo;</li>
        
          <li><a href="hyperspy.html">hyperspy package</a> &raquo;</li>
        
          <li><a href="hyperspy.learn.html">hyperspy.learn package</a> &raquo;</li>
        
      <li>hyperspy.learn.mva module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/api/hyperspy.learn.mva.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-hyperspy.learn.mva">
<span id="hyperspy-learn-mva-module"></span><h1>hyperspy.learn.mva module<a class="headerlink" href="#module-hyperspy.learn.mva" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="hyperspy.learn.mva.LearningResults">
<em class="property">class </em><code class="descclassname">hyperspy.learn.mva.</code><code class="descname">LearningResults</code><a class="headerlink" href="#hyperspy.learn.mva.LearningResults" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="attribute">
<dt id="hyperspy.learn.mva.LearningResults.bss_algorithm">
<code class="descname">bss_algorithm</code><em class="property"> = None</em><a class="headerlink" href="#hyperspy.learn.mva.LearningResults.bss_algorithm" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="hyperspy.learn.mva.LearningResults.bss_factors">
<code class="descname">bss_factors</code><em class="property"> = None</em><a class="headerlink" href="#hyperspy.learn.mva.LearningResults.bss_factors" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="hyperspy.learn.mva.LearningResults.bss_loadings">
<code class="descname">bss_loadings</code><em class="property"> = None</em><a class="headerlink" href="#hyperspy.learn.mva.LearningResults.bss_loadings" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="hyperspy.learn.mva.LearningResults.centre">
<code class="descname">centre</code><em class="property"> = None</em><a class="headerlink" href="#hyperspy.learn.mva.LearningResults.centre" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="hyperspy.learn.mva.LearningResults.crop_decomposition_dimension">
<code class="descname">crop_decomposition_dimension</code><span class="sig-paren">(</span><em>n</em>, <em>compute=False</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.learn.mva.LearningResults.crop_decomposition_dimension" title="Permalink to this definition">¶</a></dt>
<dd><p>Crop the score matrix up to the given number.
It is mainly useful to save memory and reduce the storage size</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>n</strong> (<em>int</em>) – Number of components to keep.</li>
<li><strong>compute</strong> (<em>bool</em>) – If the decomposition results are lazy, also compute the results.
Default is False.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="hyperspy.learn.mva.LearningResults.decomposition_algorithm">
<code class="descname">decomposition_algorithm</code><em class="property"> = None</em><a class="headerlink" href="#hyperspy.learn.mva.LearningResults.decomposition_algorithm" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="hyperspy.learn.mva.LearningResults.explained_variance">
<code class="descname">explained_variance</code><em class="property"> = None</em><a class="headerlink" href="#hyperspy.learn.mva.LearningResults.explained_variance" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="hyperspy.learn.mva.LearningResults.explained_variance_ratio">
<code class="descname">explained_variance_ratio</code><em class="property"> = None</em><a class="headerlink" href="#hyperspy.learn.mva.LearningResults.explained_variance_ratio" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="hyperspy.learn.mva.LearningResults.factors">
<code class="descname">factors</code><em class="property"> = None</em><a class="headerlink" href="#hyperspy.learn.mva.LearningResults.factors" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="hyperspy.learn.mva.LearningResults.load">
<code class="descname">load</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.learn.mva.LearningResults.load" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Load the results of a previous decomposition and</dt>
<dd>demixing analysis from a file.</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filename</strong> (<em>string</em>) – </td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="hyperspy.learn.mva.LearningResults.loadings">
<code class="descname">loadings</code><em class="property"> = None</em><a class="headerlink" href="#hyperspy.learn.mva.LearningResults.loadings" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="hyperspy.learn.mva.LearningResults.mean">
<code class="descname">mean</code><em class="property"> = None</em><a class="headerlink" href="#hyperspy.learn.mva.LearningResults.mean" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="hyperspy.learn.mva.LearningResults.navigation_mask">
<code class="descname">navigation_mask</code><em class="property"> = None</em><a class="headerlink" href="#hyperspy.learn.mva.LearningResults.navigation_mask" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="hyperspy.learn.mva.LearningResults.original_shape">
<code class="descname">original_shape</code><em class="property"> = None</em><a class="headerlink" href="#hyperspy.learn.mva.LearningResults.original_shape" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="hyperspy.learn.mva.LearningResults.output_dimension">
<code class="descname">output_dimension</code><em class="property"> = None</em><a class="headerlink" href="#hyperspy.learn.mva.LearningResults.output_dimension" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="hyperspy.learn.mva.LearningResults.poissonian_noise_normalized">
<code class="descname">poissonian_noise_normalized</code><em class="property"> = None</em><a class="headerlink" href="#hyperspy.learn.mva.LearningResults.poissonian_noise_normalized" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="hyperspy.learn.mva.LearningResults.save">
<code class="descname">save</code><span class="sig-paren">(</span><em>filename</em>, <em>overwrite=None</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.learn.mva.LearningResults.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the result of the decomposition and demixing analysis
:param filename:
:type filename: string
:param overwrite: If True(False) overwrite(don’t overwrite) the file if it exists.</p>
<blockquote>
<div>If None (default) ask what to do if file exists.</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="hyperspy.learn.mva.LearningResults.signal_mask">
<code class="descname">signal_mask</code><em class="property"> = None</em><a class="headerlink" href="#hyperspy.learn.mva.LearningResults.signal_mask" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="hyperspy.learn.mva.LearningResults.summary">
<code class="descname">summary</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.learn.mva.LearningResults.summary" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints a summary of the decomposition and demixing parameters
to the stdout</p>
</dd></dl>

<dl class="attribute">
<dt id="hyperspy.learn.mva.LearningResults.unfolded">
<code class="descname">unfolded</code><em class="property"> = None</em><a class="headerlink" href="#hyperspy.learn.mva.LearningResults.unfolded" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="hyperspy.learn.mva.LearningResults.unmixing_matrix">
<code class="descname">unmixing_matrix</code><em class="property"> = None</em><a class="headerlink" href="#hyperspy.learn.mva.LearningResults.unmixing_matrix" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="hyperspy.learn.mva.MVA">
<em class="property">class </em><code class="descclassname">hyperspy.learn.mva.</code><code class="descname">MVA</code><a class="headerlink" href="#hyperspy.learn.mva.MVA" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Multivariate analysis capabilities for the Signal1D class.</p>
<dl class="method">
<dt id="hyperspy.learn.mva.MVA.blind_source_separation">
<code class="descname">blind_source_separation</code><span class="sig-paren">(</span><em>number_of_components=None</em>, <em>algorithm='sklearn_fastica'</em>, <em>diff_order=1</em>, <em>diff_axes=None</em>, <em>factors=None</em>, <em>comp_list=None</em>, <em>mask=None</em>, <em>on_loadings=False</em>, <em>pretreatment=None</em>, <em>compute=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.learn.mva.MVA.blind_source_separation" title="Permalink to this definition">¶</a></dt>
<dd><p>Blind source separation (BSS) on the result on the
decomposition.</p>
<p>Available algorithms: FastICA, JADE, CuBICA, and TDSEP</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>number_of_components</strong> (<em>int</em>) – number of principal components to pass to the BSS algorithm</li>
<li><strong>algorithm</strong> (<em>{FastICA</em><em>, </em><em>JADE</em><em>, </em><em>CuBICA</em><em>, </em><em>TDSEP}</em>) – </li>
<li><strong>diff_order</strong> (<em>int</em>) – Sometimes it is convenient to perform the BSS on the derivative of
the signal. If diff_order is 0, the signal is not differentiated.</li>
<li><strong>diff_axes</strong> (<em>None</em><em> or </em><em>list of ints</em><em> or </em><em>strings</em>) – If None, when <cite>diff_order</cite> is greater than 1 and <cite>signal_dimension</cite>
(<cite>navigation_dimension</cite>) when <cite>on_loadings</cite> is False (True) is
greater than 1, the differences are calculated across all
signal (navigation) axes. Otherwise the axes can be specified in
a list.</li>
<li><strong>factors</strong> (<em>Signal</em><em> or </em><em>numpy array.</em>) – Factors to decompose. If None, the BSS is performed on the
factors of a previous decomposition. If a Signal instance the
navigation dimension must be 1 and the size greater than 1.</li>
<li><strong>comp_list</strong> (<em>boolen numpy array</em>) – <dl class="docutils">
<dt>choose the components to use by the boolean list. It permits</dt>
<dd>to choose non contiguous components.</dd>
</dl>
</li>
<li><strong>mask</strong> (<em>bool numpy array</em><em> or </em><em>Signal instance.</em>) – If not None, the signal locations marked as True are masked. The
mask shape must be equal to the signal shape
(navigation shape) when <cite>on_loadings</cite> is False (True).</li>
<li><strong>on_loadings</strong> (<em>bool</em>) – If True, perform the BSS on the loadings of a previous
decomposition. If False, performs it on the factors.</li>
<li><strong>pretreatment</strong> (<em>dict</em>) – </li>
<li><strong>compute</strong> (<em>bool</em>) – If the decomposition results are lazy, compute the BSS components
so that they are not lazy.
Default is False.</li>
<li><strong>**kwargs</strong> (<em>extra key word arguments</em>) – Any keyword arguments are passed to the BSS algorithm.</li>
<li><strong>documentation is here</strong><strong>, </strong><strong>with more arguments that can be passed as **kwargs</strong> (<em>FastICA</em>) – </li>
<li><strong>http</strong> (<em>//scikit-learn.org/stable/modules/generated/sklearn.decomposition.FastICA.html</em>) – </li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="hyperspy.learn.mva.MVA.decomposition">
<code class="descname">decomposition</code><span class="sig-paren">(</span><em>normalize_poissonian_noise=False</em>, <em>algorithm='svd'</em>, <em>output_dimension=None</em>, <em>centre=None</em>, <em>auto_transpose=True</em>, <em>navigation_mask=None</em>, <em>signal_mask=None</em>, <em>var_array=None</em>, <em>var_func=None</em>, <em>polyfit=None</em>, <em>reproject=None</em>, <em>return_info=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.learn.mva.MVA.decomposition" title="Permalink to this definition">¶</a></dt>
<dd><p>Decomposition with a choice of algorithms</p>
<p>The results are stored in self.learning_results</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>normalize_poissonian_noise</strong> (<em>bool</em>) – If True, scale the SI to normalize Poissonian noise</li>
<li><strong>algorithm</strong> (<em>'svd' | 'fast_svd' | 'mlpca' | 'fast_mlpca' | 'nmf' |</em>) – ‘sparse_pca’ | ‘mini_batch_sparse_pca’ | ‘RPCA_GoDec’ | ‘ORPCA’</li>
<li><strong>output_dimension</strong> (<em>None</em><em> or </em><em>int</em>) – number of components to keep/calculate</li>
<li><strong>centre</strong> (<em>None | 'variables' | 'trials'</em>) – If None no centring is applied. If ‘variable’ the centring will be
performed in the variable axis. If ‘trials’, the centring will be
performed in the ‘trials’ axis. It only has effect when using the
svd or fast_svd algorithms</li>
<li><strong>auto_transpose</strong> (<em>bool</em>) – If True, automatically transposes the data to boost performance.
Only has effect when using the svd of fast_svd algorithms.</li>
<li><strong>navigation_mask</strong> (<em>boolean numpy array</em>) – The navigation locations marked as True are not used in the
decompostion.</li>
<li><strong>signal_mask</strong> (<em>boolean numpy array</em>) – The signal locations marked as True are not used in the
decomposition.</li>
<li><strong>var_array</strong> (<em>numpy array</em>) – Array of variance for the maximum likelihood PCA algorithm</li>
<li><strong>var_func</strong> (<em>function</em><em> or </em><em>numpy array</em>) – If function, it will apply it to the dataset to obtain the
var_array. Alternatively, it can a an array with the coefficients
of a polynomial.</li>
<li><strong>reproject</strong> (<em>None | signal | navigation | both</em>) – If not None, the results of the decomposition will be projected in
the selected masked area.</li>
<li><strong>return_info</strong> (<em>bool</em><em>, </em><em>default False</em>) – The result of the decomposition is stored internally. However, some algorithms generate some extra
information that is not stored. If True (the default is False) return any extra information if available</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>(X, E)</strong> – If ‘algorithm’ == ‘RPCA_GoDec’ or ‘ORPCA’ and ‘return_info’ is True,
returns the low-rank (X) and sparse (E) matrices from robust PCA.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">(numpy array, numpy array)</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><code class="xref py py-meth docutils literal notranslate"><span class="pre">plot_decomposition_factors()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">plot_decomposition_loadings()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">plot_lev()</span></code></p>
</div>
</dd></dl>

<dl class="method">
<dt id="hyperspy.learn.mva.MVA.get_bss_model">
<code class="descname">get_bss_model</code><span class="sig-paren">(</span><em>components=None</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.learn.mva.MVA.get_bss_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the spectrum generated with the selected number of
independent components</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>components</strong> (<em>None</em><em>, </em><em>int</em><em>, or </em><em>list of ints</em>) – if None, rebuilds SI from all components
if int, rebuilds SI from components in range 0-given int
if list of ints, rebuilds SI from only components in given list</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Signal instance</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="hyperspy.learn.mva.MVA.get_decomposition_model">
<code class="descname">get_decomposition_model</code><span class="sig-paren">(</span><em>components=None</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.learn.mva.MVA.get_decomposition_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the spectrum generated with the selected number of principal
components</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>components</strong> (<em>None</em><em>, </em><em>int</em><em>, or </em><em>list of ints</em>) – if None, rebuilds SI from all components
if int, rebuilds SI from components in range 0-given int
if list of ints, rebuilds SI from only components in given list</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Signal instance</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="hyperspy.learn.mva.MVA.get_explained_variance_ratio">
<code class="descname">get_explained_variance_ratio</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.learn.mva.MVA.get_explained_variance_ratio" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the explained variation ratio of the PCA components as a
Signal1D.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><ul class="simple">
<li><strong>s</strong> (<em>Signal1D</em>) – Explained variation ratio.</li>
<li><em>See Also</em></li>
<li><em>———</em></li>
<li><cite>plot_explained_variance_ration</cite>, <cite>decomposition</cite>,</li>
<li><cite>get_decomposition_loadings</cite>,</li>
<li><cite>get_decomposition_factors</cite>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="hyperspy.learn.mva.MVA.normalize_bss_components">
<code class="descname">normalize_bss_components</code><span class="sig-paren">(</span><em>target='factors'</em>, <em>function=&lt;function sum&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.learn.mva.MVA.normalize_bss_components" title="Permalink to this definition">¶</a></dt>
<dd><p>Normalize BSS components.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>target</strong> (<em>{&quot;factors&quot;</em><em>, </em><em>&quot;loadings&quot;}</em>) – </li>
<li><strong>function</strong> (<em>numpy universal function</em><em>, </em><em>optional</em><em>, </em><em>default np.sum</em>) – Each target component is divided by the output of function(target).
<cite>function</cite> must return a scalar when operating on numpy arrays and
must have an <cite>axis</cite>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="hyperspy.learn.mva.MVA.normalize_decomposition_components">
<code class="descname">normalize_decomposition_components</code><span class="sig-paren">(</span><em>target='factors'</em>, <em>function=&lt;function sum&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.learn.mva.MVA.normalize_decomposition_components" title="Permalink to this definition">¶</a></dt>
<dd><p>Normalize decomposition components.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>target</strong> (<em>{&quot;factors&quot;</em><em>, </em><em>&quot;loadings&quot;}</em>) – </li>
<li><strong>function</strong> (<em>numpy universal function</em><em>, </em><em>optional</em><em>, </em><em>default np.sum</em>) – Each target component is divided by the output of function(target).
<cite>function</cite> must return a scalar when operating on numpy arrays and
must have an <cite>axis</cite>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="hyperspy.learn.mva.MVA.normalize_poissonian_noise">
<code class="descname">normalize_poissonian_noise</code><span class="sig-paren">(</span><em>navigation_mask=None</em>, <em>signal_mask=None</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.learn.mva.MVA.normalize_poissonian_noise" title="Permalink to this definition">¶</a></dt>
<dd><p>Scales the SI following Surf. Interface Anal. 2004; 36: 203–212
to “normalize” the poissonian data for decomposition analysis</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>navigation_mask</strong> (<em>boolen numpy array</em>) – </li>
<li><strong>signal_mask</strong> (<em>boolen numpy array</em>) – </li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="hyperspy.learn.mva.MVA.plot_cumulative_explained_variance_ratio">
<code class="descname">plot_cumulative_explained_variance_ratio</code><span class="sig-paren">(</span><em>n=50</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.learn.mva.MVA.plot_cumulative_explained_variance_ratio" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the principal components explained variance up to the
given number</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>n</strong> (<em>int</em>) – </td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="hyperspy.learn.mva.MVA.plot_explained_variance_ratio">
<code class="descname">plot_explained_variance_ratio</code><span class="sig-paren">(</span><em>n=30</em>, <em>log=True</em>, <em>threshold=0</em>, <em>hline='auto'</em>, <em>xaxis_type='index'</em>, <em>xaxis_labeling=None</em>, <em>signal_fmt=None</em>, <em>noise_fmt=None</em>, <em>fig=None</em>, <em>ax=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.learn.mva.MVA.plot_explained_variance_ratio" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the decomposition explained variance ratio vs index number
(Scree Plot).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>n</strong> (<em>int</em><em> or </em><em>None</em>) – Number of components to plot. If None, all components will be plot</li>
<li><strong>log</strong> (<em>bool</em>) – If True, the y axis uses a log scale.</li>
<li><strong>threshold</strong> (<em>float</em><em> or </em><em>int</em>) – Threshold used to determine how many components should be
highlighted as signal (as opposed to noise).
If a float (between 0 and 1), <code class="docutils literal notranslate"><span class="pre">threshold</span></code> will be
interpreted as a cutoff value, defining the variance at which to
draw a line showing the cutoff between signal and noise;
the number of signal components will be automatically determined
by the cutoff value.
If an int, <code class="docutils literal notranslate"><span class="pre">threshold</span></code> is interpreted as the number of
components to highlight as signal (and no cutoff line will be
drawn)</li>
<li><strong>hline</strong> (<em>{'auto'</em><em>, </em><em>True</em><em>, </em><em>False}</em>) – Whether or not to draw a horizontal line illustrating the variance
cutoff for signal/noise determination. Default is to draw the line
at the value given in <code class="docutils literal notranslate"><span class="pre">threshold</span></code> (if it is a float) and not
draw in the case  <code class="docutils literal notranslate"><span class="pre">threshold</span></code> is an int, or not given.
If True, (and <code class="docutils literal notranslate"><span class="pre">threshold</span></code> is an int), the line will be drawn
through the last component defined as signal.
If False, the line will not be drawn in any circumstance.</li>
<li><strong>xaxis_type</strong> (<em>{'index'</em><em>, </em><em>'number'}</em>) – Determines the type of labeling applied to the x-axis.
If <code class="docutils literal notranslate"><span class="pre">'index'</span></code>, axis will be labeled starting at 0 (i.e.
“pythonic index” labeling); if <code class="docutils literal notranslate"><span class="pre">'number'</span></code>, it will start at 1
(number labeling).</li>
<li><strong>xaxis_labeling</strong> (<em>{'ordinal'</em><em>, </em><em>'cardinal'</em><em>, </em><em>None}</em>) – Determines the format of the x-axis tick labels. If <code class="docutils literal notranslate"><span class="pre">'ordinal'</span></code>,
“1st, 2nd, …” will be used; if <code class="docutils literal notranslate"><span class="pre">'cardinal'</span></code>, “1, 2,
…” will be used. If None, an appropriate default will be
selected.</li>
<li><strong>signal_fmt</strong> (<em>dict</em>) – Dictionary of matplotlib formatting values for the signal
components</li>
<li><strong>noise_fmt</strong> (<em>dict</em>) – Dictionary of matplotlib formatting values for the noise
components</li>
<li><strong>fig</strong> (<em>matplotlib figure</em><em> or </em><em>None</em>) – If None, a default figure will be created, otherwise will plot
into fig</li>
<li><strong>ax</strong> (<em>matplotlib ax</em><em> (</em><em>subplot</em><em>) or </em><em>None</em>) – If None, a default ax will be created, otherwise will plot into ax</li>
<li><strong>**kwargs</strong> – remaining keyword arguments are passed to matplotlib.figure()</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<p>To generate a scree plot with customized symbols for signal vs.
noise components and a modified cutoff threshold value:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;some_spectrum_image&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">decomposition</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">plot_explained_variance_ratio</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                <span class="n">threshold</span><span class="o">=</span><span class="mf">0.005</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                <span class="n">signal_fmt</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;marker&#39;</span><span class="p">:</span> <span class="s1">&#39;v&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                            <span class="s1">&#39;s&#39;</span><span class="p">:</span> <span class="mi">150</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                            <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="s1">&#39;pink&#39;</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span>                                <span class="n">noise_fmt</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;marker&#39;</span><span class="p">:</span> <span class="s1">&#39;*&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                            <span class="s1">&#39;s&#39;</span><span class="p">:</span> <span class="mi">200</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                            <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="s1">&#39;green&#39;</span><span class="p">})</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>ax</strong></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">matplotlib.axes</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#hyperspy.learn.mva.MVA.decomposition" title="hyperspy.learn.mva.MVA.decomposition"><code class="xref py py-meth docutils literal notranslate"><span class="pre">decomposition()</span></code></a>,
<a class="reference internal" href="#hyperspy.learn.mva.MVA.get_explained_variance_ratio" title="hyperspy.learn.mva.MVA.get_explained_variance_ratio"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_explained_variance_ratio()</span></code></a>,
<a class="reference internal" href="hyperspy.signal.html#hyperspy.signal.MVATools.get_decomposition_loadings" title="hyperspy.signal.MVATools.get_decomposition_loadings"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_decomposition_loadings()</span></code></a>,
<a class="reference internal" href="hyperspy.signal.html#hyperspy.signal.MVATools.get_decomposition_factors" title="hyperspy.signal.MVATools.get_decomposition_factors"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_decomposition_factors()</span></code></a></p>
</div>
</dd></dl>

<dl class="method">
<dt id="hyperspy.learn.mva.MVA.reverse_bss_component">
<code class="descname">reverse_bss_component</code><span class="sig-paren">(</span><em>component_number</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.learn.mva.MVA.reverse_bss_component" title="Permalink to this definition">¶</a></dt>
<dd><p>Reverse the independent component</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>component_number</strong> (<em>list</em><em> or </em><em>int</em>) – component index/es</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s1">&#39;some_file&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">decomposition</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span> <span class="c1"># perform PCA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">blind_source_separation</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>  <span class="c1"># perform ICA on 3 PCs</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">reverse_bss_component</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="c1"># reverse IC 1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">reverse_bss_component</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span> <span class="c1"># reverse ICs 0 and 2</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="hyperspy.learn.mva.MVA.reverse_decomposition_component">
<code class="descname">reverse_decomposition_component</code><span class="sig-paren">(</span><em>component_number</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.learn.mva.MVA.reverse_decomposition_component" title="Permalink to this definition">¶</a></dt>
<dd><p>Reverse the decomposition component</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>component_number</strong> (<em>list</em><em> or </em><em>int</em>) – component index/es</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s1">&#39;some_file&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">decomposition</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span> <span class="c1"># perform PCA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">reverse_decomposition_component</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="c1"># reverse IC 1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">reverse_decomposition_component</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span> <span class="c1"># reverse ICs 0 and 2</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="hyperspy.learn.mva.MVA.undo_treatments">
<code class="descname">undo_treatments</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.learn.mva.MVA.undo_treatments" title="Permalink to this definition">¶</a></dt>
<dd><p>Undo normalize_poissonian_noise</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="hyperspy.learn.mva.centering_and_whitening">
<code class="descclassname">hyperspy.learn.mva.</code><code class="descname">centering_and_whitening</code><span class="sig-paren">(</span><em>X</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.learn.mva.centering_and_whitening" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="hyperspy.learn.mva.get_derivative">
<code class="descclassname">hyperspy.learn.mva.</code><code class="descname">get_derivative</code><span class="sig-paren">(</span><em>signal</em>, <em>diff_axes</em>, <em>diff_order</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.learn.mva.get_derivative" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="hyperspy.learn.onmf.html" class="btn btn-neutral float-right" title="hyperspy.learn.onmf module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="hyperspy.learn.mlpca.html" class="btn btn-neutral" title="hyperspy.learn.mlpca module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2011-2018, The HyperSpy development team

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'../',
              VERSION:'1.4.1',
              LANGUAGE:'None',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/copybutton.js"></script>
    

  

  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>