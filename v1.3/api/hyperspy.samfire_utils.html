

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>hyperspy.samfire_utils package &mdash; HyperSpy 1.3 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/hyperspy_logo.ico"/>
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="HyperSpy 1.3 documentation" href="../index.html"/>
        <link rel="up" title="hyperspy package" href="hyperspy.html"/>
        <link rel="next" title="hyperspy.samfire_utils.goodness_of_fit_tests package" href="hyperspy.samfire_utils.goodness_of_fit_tests.html"/>
        <link rel="prev" title="hyperspy.models package" href="hyperspy.models.html"/>
 
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-25260850-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>


  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> HyperSpy
          

          
            
            <img src="../_static/hyperspy_logo.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                1.3
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../user_guide/index.html">HyperSpy User Guide (DRAFT)</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">Full HyperSpy API Documentation</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="hyperspy.html">hyperspy package</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="hyperspy.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="hyperspy._components.html">hyperspy._components package</a></li>
<li class="toctree-l4"><a class="reference internal" href="hyperspy._signals.html">hyperspy._signals package</a></li>
<li class="toctree-l4"><a class="reference internal" href="hyperspy.datasets.html">hyperspy.datasets package</a></li>
<li class="toctree-l4"><a class="reference internal" href="hyperspy.docstrings.html">hyperspy.docstrings package</a></li>
<li class="toctree-l4"><a class="reference internal" href="hyperspy.drawing.html">hyperspy.drawing package</a></li>
<li class="toctree-l4"><a class="reference internal" href="hyperspy.external.html">hyperspy.external package</a></li>
<li class="toctree-l4"><a class="reference internal" href="hyperspy.io_plugins.html">hyperspy.io_plugins package</a></li>
<li class="toctree-l4"><a class="reference internal" href="hyperspy.learn.html">hyperspy.learn package</a></li>
<li class="toctree-l4"><a class="reference internal" href="hyperspy.misc.html">hyperspy.misc package</a></li>
<li class="toctree-l4"><a class="reference internal" href="hyperspy.models.html">hyperspy.models package</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">hyperspy.samfire_utils package</a></li>
<li class="toctree-l4"><a class="reference internal" href="hyperspy.tests.html">hyperspy.tests package</a></li>
<li class="toctree-l4"><a class="reference internal" href="hyperspy.utils.html">hyperspy.utils package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="hyperspy.html#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="hyperspy.html#module-hyperspy.Release">hyperspy.Release module</a></li>
<li class="toctree-l3"><a class="reference internal" href="hyperspy.html#module-hyperspy._lazy_signals">hyperspy._lazy_signals module</a></li>
<li class="toctree-l3"><a class="reference internal" href="hyperspy.html#module-hyperspy.api">hyperspy.api module</a></li>
<li class="toctree-l3"><a class="reference internal" href="hyperspy.html#module-hyperspy.api_nogui">hyperspy.api_nogui module</a></li>
<li class="toctree-l3"><a class="reference internal" href="hyperspy.html#module-hyperspy.axes">hyperspy.axes module</a></li>
<li class="toctree-l3"><a class="reference internal" href="hyperspy.html#module-hyperspy.component">hyperspy.component module</a></li>
<li class="toctree-l3"><a class="reference internal" href="hyperspy.html#module-hyperspy.components1d">hyperspy.components1d module</a></li>
<li class="toctree-l3"><a class="reference internal" href="hyperspy.html#module-hyperspy.components2d">hyperspy.components2d module</a></li>
<li class="toctree-l3"><a class="reference internal" href="hyperspy.html#module-hyperspy.conftest">hyperspy.conftest module</a></li>
<li class="toctree-l3"><a class="reference internal" href="hyperspy.html#module-hyperspy.decorators">hyperspy.decorators module</a></li>
<li class="toctree-l3"><a class="reference internal" href="hyperspy.html#module-hyperspy.defaults_parser">hyperspy.defaults_parser module</a></li>
<li class="toctree-l3"><a class="reference internal" href="hyperspy.html#module-hyperspy.events">hyperspy.events module</a></li>
<li class="toctree-l3"><a class="reference internal" href="hyperspy.html#module-hyperspy.exceptions">hyperspy.exceptions module</a></li>
<li class="toctree-l3"><a class="reference internal" href="hyperspy.html#module-hyperspy.interactive">hyperspy.interactive module</a></li>
<li class="toctree-l3"><a class="reference internal" href="hyperspy.html#module-hyperspy.io">hyperspy.io module</a></li>
<li class="toctree-l3"><a class="reference internal" href="hyperspy.html#module-hyperspy.logger">hyperspy.logger module</a></li>
<li class="toctree-l3"><a class="reference internal" href="hyperspy.html#module-hyperspy.model">hyperspy.model module</a></li>
<li class="toctree-l3"><a class="reference internal" href="hyperspy.html#module-hyperspy.roi">hyperspy.roi module</a></li>
<li class="toctree-l3"><a class="reference internal" href="hyperspy.html#module-hyperspy.samfire">hyperspy.samfire module</a></li>
<li class="toctree-l3"><a class="reference internal" href="hyperspy.html#module-hyperspy.signal">hyperspy.signal module</a></li>
<li class="toctree-l3"><a class="reference internal" href="hyperspy.html#module-hyperspy.signal_tools">hyperspy.signal_tools module</a></li>
<li class="toctree-l3"><a class="reference internal" href="hyperspy.html#module-hyperspy.signals">hyperspy.signals module</a></li>
<li class="toctree-l3"><a class="reference internal" href="hyperspy.html#module-hyperspy.ui_registry">hyperspy.ui_registry module</a></li>
<li class="toctree-l3"><a class="reference internal" href="hyperspy.html#module-hyperspy">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../dev_guide.html">Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../credits.html">Credits</a></li>
<li class="toctree-l1"><a class="reference internal" href="../citing.html">Citing HyperSpy</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">HyperSpy</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="modules.html">hyperspy</a> &raquo;</li>
        
          <li><a href="hyperspy.html">hyperspy package</a> &raquo;</li>
        
      <li>hyperspy.samfire_utils package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/api/hyperspy.samfire_utils.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="hyperspy-samfire-utils-package">
<h1>hyperspy.samfire_utils package<a class="headerlink" href="#hyperspy-samfire-utils-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="hyperspy.samfire_utils.goodness_of_fit_tests.html">hyperspy.samfire_utils.goodness_of_fit_tests package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="hyperspy.samfire_utils.goodness_of_fit_tests.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="hyperspy.samfire_utils.goodness_of_fit_tests.html#module-hyperspy.samfire_utils.goodness_of_fit_tests.information_theory">hyperspy.samfire_utils.goodness_of_fit_tests.information_theory module</a></li>
<li class="toctree-l2"><a class="reference internal" href="hyperspy.samfire_utils.goodness_of_fit_tests.html#module-hyperspy.samfire_utils.goodness_of_fit_tests.red_chisq">hyperspy.samfire_utils.goodness_of_fit_tests.red_chisq module</a></li>
<li class="toctree-l2"><a class="reference internal" href="hyperspy.samfire_utils.goodness_of_fit_tests.html#module-hyperspy.samfire_utils.goodness_of_fit_tests.test_general">hyperspy.samfire_utils.goodness_of_fit_tests.test_general module</a></li>
<li class="toctree-l2"><a class="reference internal" href="hyperspy.samfire_utils.goodness_of_fit_tests.html#module-hyperspy.samfire_utils.goodness_of_fit_tests">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="hyperspy.samfire_utils.segmenters.html">hyperspy.samfire_utils.segmenters package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="hyperspy.samfire_utils.segmenters.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="hyperspy.samfire_utils.segmenters.html#module-hyperspy.samfire_utils.segmenters.histogram">hyperspy.samfire_utils.segmenters.histogram module</a></li>
<li class="toctree-l2"><a class="reference internal" href="hyperspy.samfire_utils.segmenters.html#module-hyperspy.samfire_utils.segmenters">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="hyperspy.samfire_utils.weights.html">hyperspy.samfire_utils.weights package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="hyperspy.samfire_utils.weights.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="hyperspy.samfire_utils.weights.html#module-hyperspy.samfire_utils.weights.red_chisq">hyperspy.samfire_utils.weights.red_chisq module</a></li>
<li class="toctree-l2"><a class="reference internal" href="hyperspy.samfire_utils.weights.html#module-hyperspy.samfire_utils.weights">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-hyperspy.samfire_utils.fit_tests">
<span id="hyperspy-samfire-utils-fit-tests-module"></span><h2>hyperspy.samfire_utils.fit_tests module<a class="headerlink" href="#module-hyperspy.samfire_utils.fit_tests" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-hyperspy.samfire_utils.global_strategies">
<span id="hyperspy-samfire-utils-global-strategies-module"></span><h2>hyperspy.samfire_utils.global_strategies module<a class="headerlink" href="#module-hyperspy.samfire_utils.global_strategies" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="hyperspy.samfire_utils.global_strategies.HistogramStrategy">
<em class="property">class </em><code class="descclassname">hyperspy.samfire_utils.global_strategies.</code><code class="descname">HistogramStrategy</code><span class="sig-paren">(</span><em>bins='freedman'</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.samfire_utils.global_strategies.HistogramStrategy" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#hyperspy.samfire_utils.strategy.GlobalStrategy" title="hyperspy.samfire_utils.strategy.GlobalStrategy"><code class="xref py py-class docutils literal"><span class="pre">hyperspy.samfire_utils.strategy.GlobalStrategy</span></code></a></p>
</dd></dl>

</div>
<div class="section" id="module-hyperspy.samfire_utils.local_strategies">
<span id="hyperspy-samfire-utils-local-strategies-module"></span><h2>hyperspy.samfire_utils.local_strategies module<a class="headerlink" href="#module-hyperspy.samfire_utils.local_strategies" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="hyperspy.samfire_utils.local_strategies.ReducedChiSquaredStrategy">
<em class="property">class </em><code class="descclassname">hyperspy.samfire_utils.local_strategies.</code><code class="descname">ReducedChiSquaredStrategy</code><a class="headerlink" href="#hyperspy.samfire_utils.local_strategies.ReducedChiSquaredStrategy" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#hyperspy.samfire_utils.strategy.LocalStrategy" title="hyperspy.samfire_utils.strategy.LocalStrategy"><code class="xref py py-class docutils literal"><span class="pre">hyperspy.samfire_utils.strategy.LocalStrategy</span></code></a></p>
<p>Reduced chi-squared Local strategy of the SAMFire. Uses reduced
chi-squared as the weight, and exponential decay as the decay function.</p>
</dd></dl>

<dl class="function">
<dt id="hyperspy.samfire_utils.local_strategies.exp_decay">
<code class="descclassname">hyperspy.samfire_utils.local_strategies.</code><code class="descname">exp_decay</code><span class="sig-paren">(</span><em>distances</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.samfire_utils.local_strategies.exp_decay" title="Permalink to this definition">¶</a></dt>
<dd><p>Exponential decay function.</p>
</dd></dl>

</div>
<div class="section" id="module-hyperspy.samfire_utils.samfire_kernel">
<span id="hyperspy-samfire-utils-samfire-kernel-module"></span><h2>hyperspy.samfire_utils.samfire_kernel module<a class="headerlink" href="#module-hyperspy.samfire_utils.samfire_kernel" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="hyperspy.samfire_utils.samfire_kernel.multi_kernel">
<code class="descclassname">hyperspy.samfire_utils.samfire_kernel.</code><code class="descname">multi_kernel</code><span class="sig-paren">(</span><em>ind</em>, <em>m_dic</em>, <em>values</em>, <em>optional_components</em>, <em>_args</em>, <em>result_q</em>, <em>test_dict</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.samfire_utils.samfire_kernel.multi_kernel" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="hyperspy.samfire_utils.samfire_kernel.single_kernel">
<code class="descclassname">hyperspy.samfire_utils.samfire_kernel.</code><code class="descname">single_kernel</code><span class="sig-paren">(</span><em>model</em>, <em>ind</em>, <em>values</em>, <em>optional_components</em>, <em>_args</em>, <em>test</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.samfire_utils.samfire_kernel.single_kernel" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-hyperspy.samfire_utils.samfire_pool">
<span id="hyperspy-samfire-utils-samfire-pool-module"></span><h2>hyperspy.samfire_utils.samfire_pool module<a class="headerlink" href="#module-hyperspy.samfire_utils.samfire_pool" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="hyperspy.samfire_utils.samfire_pool.SamfirePool">
<em class="property">class </em><code class="descclassname">hyperspy.samfire_utils.samfire_pool.</code><code class="descname">SamfirePool</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.samfire_utils.samfire_pool.SamfirePool" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="hyperspy.utils.html#hyperspy.utils.parallel_pool.ParallelPool" title="hyperspy.utils.parallel_pool.ParallelPool"><code class="xref py py-class docutils literal"><span class="pre">hyperspy.utils.parallel_pool.ParallelPool</span></code></a></p>
<p>Creates and manages a pool of SAMFire workers. For based on
ParallelPool - either creates processes using multiprocessing, or connects
and sets up ipyparallel load_balanced_view.</p>
<p>Ipyparallel is managed directly, but multiprocessing pool is managed via
three of Queues:</p>
<blockquote>
<div><ul class="simple">
<li>Shared by all (master and workers) for distributing &#8220;load-balanced&#8221;</li>
</ul>
<p>work.
- Shared by all (master and workers) for sending results back to the
master
- Individual queues from master to each worker. For setting up and
addressing individual workers in general. This one is checked with
higher priority in workers.</p>
</div></blockquote>
<dl class="method">
<dt id="hyperspy.samfire_utils.samfire_pool.SamfirePool.prepare_workers">
<code class="descname">prepare_workers</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.samfire_utils.samfire_pool.SamfirePool.prepare_workers" title="Permalink to this definition">¶</a></dt>
<dd><p>given SAMFire object, populates the workers with the required
information. In case of multiprocessing, starts worker listening to the
queues.</p>
</dd></dl>

<dl class="method">
<dt id="hyperspy.samfire_utils.samfire_pool.SamfirePool.update_parameters">
<code class="descname">update_parameters</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.samfire_utils.samfire_pool.SamfirePool.update_parameters" title="Permalink to this definition">¶</a></dt>
<dd><p>updates various worker parameters</p>
</dd></dl>

<dl class="method">
<dt id="hyperspy.samfire_utils.samfire_pool.SamfirePool.ping_workers">
<code class="descname">ping_workers</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.samfire_utils.samfire_pool.SamfirePool.ping_workers" title="Permalink to this definition">¶</a></dt>
<dd><p>pings all workers. Stores the one-way trip time and the process_id
(pid) of each worker if available</p>
</dd></dl>

<dl class="method">
<dt id="hyperspy.samfire_utils.samfire_pool.SamfirePool.add_jobs">
<code class="descname">add_jobs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.samfire_utils.samfire_pool.SamfirePool.add_jobs" title="Permalink to this definition">¶</a></dt>
<dd><p>adds the requested number of jobs to the queue</p>
</dd></dl>

<dl class="method">
<dt id="hyperspy.samfire_utils.samfire_pool.SamfirePool.parse">
<code class="descname">parse</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.samfire_utils.samfire_pool.SamfirePool.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>parses the messages, returned from the workers.</p>
</dd></dl>

<dl class="method">
<dt id="hyperspy.samfire_utils.samfire_pool.SamfirePool.colect_results">
<code class="descname">colect_results</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.samfire_utils.samfire_pool.SamfirePool.colect_results" title="Permalink to this definition">¶</a></dt>
<dd><p>collects all currently available results and parses them</p>
</dd></dl>

<dl class="method">
<dt id="hyperspy.samfire_utils.samfire_pool.SamfirePool.run">
<code class="descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.samfire_utils.samfire_pool.SamfirePool.run" title="Permalink to this definition">¶</a></dt>
<dd><p>runs the full procedure until no more pixels are left to run in the
SAMFire</p>
</dd></dl>

<dl class="method">
<dt id="hyperspy.samfire_utils.samfire_pool.SamfirePool.stop">
<code class="descname">stop</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.samfire_utils.samfire_pool.SamfirePool.stop" title="Permalink to this definition">¶</a></dt>
<dd><p>stops the pool, (for ipyparallel) clears the memory</p>
</dd></dl>

<dl class="method">
<dt id="hyperspy.samfire_utils.samfire_pool.SamfirePool.setup">
<code class="descname">setup</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.samfire_utils.samfire_pool.SamfirePool.setup" title="Permalink to this definition">¶</a></dt>
<dd><p>sets up the ipyparallel or multiprocessing pool (collects to the
client or creates the pool)</p>
</dd></dl>

<dl class="method">
<dt id="hyperspy.samfire_utils.samfire_pool.SamfirePool.sleep">
<code class="descname">sleep</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.samfire_utils.samfire_pool.SamfirePool.sleep" title="Permalink to this definition">¶</a></dt>
<dd><p>sleeps for the specified time, by default timestep</p>
</dd></dl>

<dl class="attribute">
<dt id="hyperspy.samfire_utils.samfire_pool.SamfirePool.has_pool">
<code class="descname">has_pool</code><a class="headerlink" href="#hyperspy.samfire_utils.samfire_pool.SamfirePool.has_pool" title="Permalink to this definition">¶</a></dt>
<dd><p><em>Bool</em> &#8211; Boolean if the pool is available and active</p>
</dd></dl>

<dl class="attribute">
<dt id="hyperspy.samfire_utils.samfire_pool.SamfirePool.pool">
<code class="descname">pool</code><a class="headerlink" href="#hyperspy.samfire_utils.samfire_pool.SamfirePool.pool" title="Permalink to this definition">¶</a></dt>
<dd><p><em>{ipyparallel.load_balanced_view, multiprocessing.Pool}</em> &#8211; The pool object</p>
</dd></dl>

<dl class="attribute">
<dt id="hyperspy.samfire_utils.samfire_pool.SamfirePool.ipython_kwargs">
<code class="descname">ipython_kwargs</code><a class="headerlink" href="#hyperspy.samfire_utils.samfire_pool.SamfirePool.ipython_kwargs" title="Permalink to this definition">¶</a></dt>
<dd><p><em>dict</em> &#8211; The dictionary with Ipyparallel connection arguments.</p>
</dd></dl>

<dl class="attribute">
<dt id="hyperspy.samfire_utils.samfire_pool.SamfirePool.timeout">
<code class="descname">timeout</code><a class="headerlink" href="#hyperspy.samfire_utils.samfire_pool.SamfirePool.timeout" title="Permalink to this definition">¶</a></dt>
<dd><p><em>float</em> &#8211; Timeout for either pool when waiting for results</p>
</dd></dl>

<dl class="attribute">
<dt id="hyperspy.samfire_utils.samfire_pool.SamfirePool.num_workers">
<code class="descname">num_workers</code><a class="headerlink" href="#hyperspy.samfire_utils.samfire_pool.SamfirePool.num_workers" title="Permalink to this definition">¶</a></dt>
<dd><p><em>int</em> &#8211; The number of workers actually created (may be less than requested, but
can&#8217;t be more)</p>
</dd></dl>

<dl class="attribute">
<dt id="hyperspy.samfire_utils.samfire_pool.SamfirePool.timestep">
<code class="descname">timestep</code><a class="headerlink" href="#hyperspy.samfire_utils.samfire_pool.SamfirePool.timestep" title="Permalink to this definition">¶</a></dt>
<dd><p><em>float</em> &#8211; The timestep between &#8220;ticks&#8221; that the result queues are checked. Higher
timestep means less frequent checking, which may reduce CPU load for
difficult fits that take a long time to finish.</p>
</dd></dl>

<dl class="attribute">
<dt id="hyperspy.samfire_utils.samfire_pool.SamfirePool.ping">
<code class="descname">ping</code><a class="headerlink" href="#hyperspy.samfire_utils.samfire_pool.SamfirePool.ping" title="Permalink to this definition">¶</a></dt>
<dd><p><em>dict</em> &#8211; If recorded, stores one-way trip time of each worker</p>
</dd></dl>

<dl class="attribute">
<dt id="hyperspy.samfire_utils.samfire_pool.SamfirePool.pid">
<code class="descname">pid</code><a class="headerlink" href="#hyperspy.samfire_utils.samfire_pool.SamfirePool.pid" title="Permalink to this definition">¶</a></dt>
<dd><p><em>dict</em> &#8211; If available, stores the process-id of each worker</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">add_jobs</code><span class="sig-paren">(</span><em>needed_number=None</em><span class="sig-paren">)</span></dt>
<dd><p>Adds jobs to the job queue that is consumed by the workers.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>needed_number</strong> (<em>{None</em><em>, </em><em>int}</em>) &#8211; The number of jobs to add. If None (default), adds <cite>need_pixels</cite></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="hyperspy.samfire_utils.samfire_pool.SamfirePool.collect_results">
<code class="descname">collect_results</code><span class="sig-paren">(</span><em>timeout=None</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.samfire_utils.samfire_pool.SamfirePool.collect_results" title="Permalink to this definition">¶</a></dt>
<dd><p>Collects and parses all results, currently not processed due to
being in the queue.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>timeout</strong> (<em>{None</em><em>, </em><em>flaot}</em>) &#8211; the time to wait when collecting results. If None, the default
timeout is used</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="hyperspy.samfire_utils.samfire_pool.SamfirePool.need_pixels">
<code class="descname">need_pixels</code><a class="headerlink" href="#hyperspy.samfire_utils.samfire_pool.SamfirePool.need_pixels" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the number of pixels that should be added to the processing
queue. At most is equal to the number of workers.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">parse</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span></dt>
<dd><p>Parses the value, returned from the workers.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>value</strong> (<em>tuple of the form</em><em> (</em><em>keyword</em><em>, </em><em>the_rest</em><em>)</em>) &#8211; <p>keyword currently can be one of [&#8216;pong&#8217;, &#8216;Error&#8217;, &#8216;result&#8217;]. For
each of the keywords, &#8220;the_rest&#8221; is a tuple of different elements,
but generally the first one is always the worker_id that the result
came from. In particular:</p>
<blockquote>
<div><ul class="simple">
<li>(&#8216;pong&#8217;, (worker_id, pid, pong_time, optional_message_str))</li>
<li>(&#8216;Error&#8217;, (worker_id, error_message_string))</li>
<li><dl class="first docutils">
<dt>(&#8216;result&#8217;, (worker_id,</dt>
<dd>pixel_index,
result_dict,
bool_if_result_converged))</dd>
</dl>
</li>
</ul>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">ping_workers</code><span class="sig-paren">(</span><em>timeout=None</em><span class="sig-paren">)</span></dt>
<dd><p>Pings the workers and records one-way trip time and (if available)
pid of the worker.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>timeout</strong> (<em>{None</em><em>, </em><em>flaot}</em>) &#8211; the time to wait when collecting results after sending out the
ping. If None, the default timeout is used</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">prepare_workers</code><span class="sig-paren">(</span><em>samfire</em><span class="sig-paren">)</span></dt>
<dd><p>Prepares the workers for work, in case of multiprocessing starts
listening</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>samfire</strong> (<a class="reference internal" href="hyperspy.html#module-hyperspy.samfire" title="hyperspy.samfire"><em>samfire</em></a>) &#8211; the SAMFire object that will be using the pool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Runs the full process of adding jobs to the processing queue,
listening to the results and updating SAMFire as needed. Stops when
timed out or no pixels are left to run.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">stop</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Stops the appropriate pool and (if ipyparallel) clears the memory
and history.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">update_parameters</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Updates various worker parameters.</p>
<dl class="docutils">
<dt>Currently updates:</dt>
<dd><ul class="first last simple">
<li>Optional components (that can be switched off by the worker)</li>
<li>Parameter boundaries</li>
<li>Goodness test</li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-hyperspy.samfire_utils.samfire_worker">
<span id="hyperspy-samfire-utils-samfire-worker-module"></span><h2>hyperspy.samfire_utils.samfire_worker module<a class="headerlink" href="#module-hyperspy.samfire_utils.samfire_worker" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="hyperspy.samfire_utils.samfire_worker.Worker">
<em class="property">class </em><code class="descclassname">hyperspy.samfire_utils.samfire_worker.</code><code class="descname">Worker</code><span class="sig-paren">(</span><em>identity</em>, <em>individual_queue=None</em>, <em>shared_queue=None</em>, <em>result_queue=None</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.samfire_utils.samfire_worker.Worker" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<dl class="method">
<dt id="hyperspy.samfire_utils.samfire_worker.Worker.change_timestep">
<code class="descname">change_timestep</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.samfire_utils.samfire_worker.Worker.change_timestep" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="hyperspy.samfire_utils.samfire_worker.Worker.compare_models">
<code class="descname">compare_models</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.samfire_utils.samfire_worker.Worker.compare_models" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="hyperspy.samfire_utils.samfire_worker.Worker.create_model">
<code class="descname">create_model</code><span class="sig-paren">(</span><em>signal_dict</em>, <em>model_letter</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.samfire_utils.samfire_worker.Worker.create_model" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="hyperspy.samfire_utils.samfire_worker.Worker.fit">
<code class="descname">fit</code><span class="sig-paren">(</span><em>component_comb</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.samfire_utils.samfire_worker.Worker.fit" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="hyperspy.samfire_utils.samfire_worker.Worker.generate_component_combinations">
<code class="descname">generate_component_combinations</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.samfire_utils.samfire_worker.Worker.generate_component_combinations" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="hyperspy.samfire_utils.samfire_worker.Worker.generate_values_iterator">
<code class="descname">generate_values_iterator</code><span class="sig-paren">(</span><em>turned_on_names</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.samfire_utils.samfire_worker.Worker.generate_values_iterator" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="hyperspy.samfire_utils.samfire_worker.Worker.listen">
<code class="descname">listen</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.samfire_utils.samfire_worker.Worker.listen" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="hyperspy.samfire_utils.samfire_worker.Worker.parse">
<code class="descname">parse</code><span class="sig-paren">(</span><em>result</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.samfire_utils.samfire_worker.Worker.parse" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="hyperspy.samfire_utils.samfire_worker.Worker.ping">
<code class="descname">ping</code><span class="sig-paren">(</span><em>message=None</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.samfire_utils.samfire_worker.Worker.ping" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="hyperspy.samfire_utils.samfire_worker.Worker.reset">
<code class="descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.samfire_utils.samfire_worker.Worker.reset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="hyperspy.samfire_utils.samfire_worker.Worker.run_pixel">
<code class="descname">run_pixel</code><span class="sig-paren">(</span><em>ind</em>, <em>value_dict</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.samfire_utils.samfire_worker.Worker.run_pixel" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="hyperspy.samfire_utils.samfire_worker.Worker.send_results">
<code class="descname">send_results</code><span class="sig-paren">(</span><em>current=False</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.samfire_utils.samfire_worker.Worker.send_results" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="hyperspy.samfire_utils.samfire_worker.Worker.set_optional_names">
<code class="descname">set_optional_names</code><span class="sig-paren">(</span><em>optional_names</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.samfire_utils.samfire_worker.Worker.set_optional_names" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="hyperspy.samfire_utils.samfire_worker.Worker.set_parameter_boundaries">
<code class="descname">set_parameter_boundaries</code><span class="sig-paren">(</span><em>received</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.samfire_utils.samfire_worker.Worker.set_parameter_boundaries" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="hyperspy.samfire_utils.samfire_worker.Worker.set_values">
<code class="descname">set_values</code><span class="sig-paren">(</span><em>name_list</em>, <em>iterator</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.samfire_utils.samfire_worker.Worker.set_values" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="hyperspy.samfire_utils.samfire_worker.Worker.setup_test">
<code class="descname">setup_test</code><span class="sig-paren">(</span><em>test_string</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.samfire_utils.samfire_worker.Worker.setup_test" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="hyperspy.samfire_utils.samfire_worker.Worker.sleep">
<code class="descname">sleep</code><span class="sig-paren">(</span><em>howlong=None</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.samfire_utils.samfire_worker.Worker.sleep" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="hyperspy.samfire_utils.samfire_worker.Worker.start_listening">
<code class="descname">start_listening</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.samfire_utils.samfire_worker.Worker.start_listening" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="hyperspy.samfire_utils.samfire_worker.Worker.stop_listening">
<code class="descname">stop_listening</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.samfire_utils.samfire_worker.Worker.stop_listening" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="hyperspy.samfire_utils.samfire_worker.create_worker">
<code class="descclassname">hyperspy.samfire_utils.samfire_worker.</code><code class="descname">create_worker</code><span class="sig-paren">(</span><em>identity</em>, <em>individual_queue=None</em>, <em>shared_queue=None</em>, <em>result_queue=None</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.samfire_utils.samfire_worker.create_worker" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-hyperspy.samfire_utils.strategy">
<span id="hyperspy-samfire-utils-strategy-module"></span><h2>hyperspy.samfire_utils.strategy module<a class="headerlink" href="#module-hyperspy.samfire_utils.strategy" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="hyperspy.samfire_utils.strategy.GlobalStrategy">
<em class="property">class </em><code class="descclassname">hyperspy.samfire_utils.strategy.</code><code class="descname">GlobalStrategy</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.samfire_utils.strategy.GlobalStrategy" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#hyperspy.samfire_utils.strategy.SamfireStrategy" title="hyperspy.samfire_utils.strategy.SamfireStrategy"><code class="xref py py-class docutils literal"><span class="pre">hyperspy.samfire_utils.strategy.SamfireStrategy</span></code></a></p>
<p>A SAMFire strategy that operates in &#8220;parameter space&#8221; - i.e the pixel
positions are not important, and only parameter value distributions are
segmented to be used as starting point estimators.</p>
<dl class="method">
<dt id="hyperspy.samfire_utils.strategy.GlobalStrategy.clean">
<code class="descname">clean</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.samfire_utils.strategy.GlobalStrategy.clean" title="Permalink to this definition">¶</a></dt>
<dd><p>Purges the currently saved values (not the database).</p>
</dd></dl>

<dl class="method">
<dt id="hyperspy.samfire_utils.strategy.GlobalStrategy.plot">
<code class="descname">plot</code><span class="sig-paren">(</span><em>fig=None</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.samfire_utils.strategy.GlobalStrategy.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots the current database of histograms</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>fig</strong> (<em>{None</em><em>, </em><em>HistogramTilePlot}</em>) &#8211; If given updates the plot.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="hyperspy.samfire_utils.strategy.GlobalStrategy.refresh">
<code class="descname">refresh</code><span class="sig-paren">(</span><em>overwrite</em>, <em>given_pixels=None</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.samfire_utils.strategy.GlobalStrategy.refresh" title="Permalink to this definition">¶</a></dt>
<dd><p>Refreshes the database (i.e. constructs it again from scratch)</p>
</dd></dl>

<dl class="attribute">
<dt id="hyperspy.samfire_utils.strategy.GlobalStrategy.segmenter">
<code class="descname">segmenter</code><em class="property"> = None</em><a class="headerlink" href="#hyperspy.samfire_utils.strategy.GlobalStrategy.segmenter" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="hyperspy.samfire_utils.strategy.GlobalStrategy.values">
<code class="descname">values</code><span class="sig-paren">(</span><em>ind=None</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.samfire_utils.strategy.GlobalStrategy.values" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the saved most frequent values that should be used for
prediction</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="hyperspy.samfire_utils.strategy.LocalStrategy">
<em class="property">class </em><code class="descclassname">hyperspy.samfire_utils.strategy.</code><code class="descname">LocalStrategy</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.samfire_utils.strategy.LocalStrategy" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#hyperspy.samfire_utils.strategy.SamfireStrategy" title="hyperspy.samfire_utils.strategy.SamfireStrategy"><code class="xref py py-class docutils literal"><span class="pre">hyperspy.samfire_utils.strategy.SamfireStrategy</span></code></a></p>
<p>A SAMFire strategy that operates in &#8220;pixel space&#8221; - i.e calculates the
starting point estimates based on the local averages of the pixels.
Requires some weighting method (e.g. reduced chi-squared).</p>
<dl class="method">
<dt id="hyperspy.samfire_utils.strategy.LocalStrategy.clean">
<code class="descname">clean</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.samfire_utils.strategy.LocalStrategy.clean" title="Permalink to this definition">¶</a></dt>
<dd><p>Purges the currently saved values.</p>
</dd></dl>

<dl class="method">
<dt id="hyperspy.samfire_utils.strategy.LocalStrategy.plot">
<code class="descname">plot</code><span class="sig-paren">(</span><em>fig=None</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.samfire_utils.strategy.LocalStrategy.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots the current marker in a flat image</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>fig</strong> (<em>{Image</em><em>, </em><em>None}</em>) &#8211; if an already plotted image, then updates. Otherwise creates a new
one.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>fig</strong> &#8211; the resulting image. If passed again, will be updated
(computationally cheaper operation).</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Image</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="hyperspy.samfire_utils.strategy.LocalStrategy.radii">
<code class="descname">radii</code><a class="headerlink" href="#hyperspy.samfire_utils.strategy.LocalStrategy.radii" title="Permalink to this definition">¶</a></dt>
<dd><p>A tuple of &gt;=0 floats that show the &#8220;radii of relevance&#8221;</p>
</dd></dl>

<dl class="method">
<dt id="hyperspy.samfire_utils.strategy.LocalStrategy.refresh">
<code class="descname">refresh</code><span class="sig-paren">(</span><em>overwrite</em>, <em>given_pixels=None</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.samfire_utils.strategy.LocalStrategy.refresh" title="Permalink to this definition">¶</a></dt>
<dd><p>Refreshes the marker - recalculates with the current values from
scratch.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>overwrite</strong> (<em>Bool</em>) &#8211; If True, all but the given_pixels will be recalculated. Used when
part of already calculated results has to be refreshed.
If False, only use pixels with marker == -scale (by default -1) to
propagate to pixels with marker &gt;= 0. This allows &#8220;ignoring&#8221; pixels
with marker &lt; -scale (e.g. -2).</li>
<li><strong>given_pixels</strong> (<em>boolean numpy array</em>) &#8211; Pixels with True value are assumed as correctly calculated.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="hyperspy.samfire_utils.strategy.LocalStrategy.samf">
<code class="descname">samf</code><a class="headerlink" href="#hyperspy.samfire_utils.strategy.LocalStrategy.samf" title="Permalink to this definition">¶</a></dt>
<dd><p>The SAMFire that owns this strategy.</p>
</dd></dl>

<dl class="method">
<dt id="hyperspy.samfire_utils.strategy.LocalStrategy.values">
<code class="descname">values</code><span class="sig-paren">(</span><em>ind</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.samfire_utils.strategy.LocalStrategy.values" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the current starting value estimates for the given pixel.
Calculated as the weighted local average. Only returns components that
are active, and parameters that are free.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>ind</strong> (<em>tuple</em>) &#8211; the index of the pixel of interest.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>values</strong> &#8211; A dictionary of estimates, structured as
{component_name: {parameter_name: value, ...}, ...}
for active components and free parameters.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="hyperspy.samfire_utils.strategy.LocalStrategy.weight">
<code class="descname">weight</code><a class="headerlink" href="#hyperspy.samfire_utils.strategy.LocalStrategy.weight" title="Permalink to this definition">¶</a></dt>
<dd><p>A Weight object, able to assign significance weights to separate
pixels or maps, given the model.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="hyperspy.samfire_utils.strategy.SamfireStrategy">
<em class="property">class </em><code class="descclassname">hyperspy.samfire_utils.strategy.</code><code class="descname">SamfireStrategy</code><a class="headerlink" href="#hyperspy.samfire_utils.strategy.SamfireStrategy" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>A SAMFire strategy base class.</p>
<dl class="attribute">
<dt id="hyperspy.samfire_utils.strategy.SamfireStrategy.close_plot">
<code class="descname">close_plot</code><em class="property"> = None</em><a class="headerlink" href="#hyperspy.samfire_utils.strategy.SamfireStrategy.close_plot" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="hyperspy.samfire_utils.strategy.SamfireStrategy.name">
<code class="descname">name</code><em class="property"> = ''</em><a class="headerlink" href="#hyperspy.samfire_utils.strategy.SamfireStrategy.name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="hyperspy.samfire_utils.strategy.SamfireStrategy.remove">
<code class="descname">remove</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.samfire_utils.strategy.SamfireStrategy.remove" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes this strategy from its SAMFire</p>
</dd></dl>

<dl class="attribute">
<dt id="hyperspy.samfire_utils.strategy.SamfireStrategy.samf">
<code class="descname">samf</code><em class="property"> = None</em><a class="headerlink" href="#hyperspy.samfire_utils.strategy.SamfireStrategy.samf" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="hyperspy.samfire_utils.strategy.SamfireStrategy.update">
<code class="descname">update</code><span class="sig-paren">(</span><em>ind</em>, <em>isgood</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.samfire_utils.strategy.SamfireStrategy.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the database and marker with the given pixel results</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>ind</strong> (<em>tuple</em>) &#8211; the index with new results</li>
<li><strong>isgood</strong> (<em>bool</em>) &#8211; if the fit was successful.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="hyperspy.samfire_utils.strategy.make_sure_ind">
<code class="descclassname">hyperspy.samfire_utils.strategy.</code><code class="descname">make_sure_ind</code><span class="sig-paren">(</span><em>inds</em>, <em>req_len=None</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.samfire_utils.strategy.make_sure_ind" title="Permalink to this definition">¶</a></dt>
<dd><p>Given an object, constructs a tuple of floats the required length.
Either removes items that cannot be cast as floats, or adds the last valid
item until the required length is reached.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>inds</strong> (<em>sequence</em>) &#8211; the sequence to be constructed into tuple of floats</li>
<li><strong>req_len</strong> (<em>{None</em><em>, </em><em>number}</em>) &#8211; The required length of the output</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>indices</strong></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">tuple of floats</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="hyperspy.samfire_utils.strategy.nearest_indices">
<code class="descclassname">hyperspy.samfire_utils.strategy.</code><code class="descname">nearest_indices</code><span class="sig-paren">(</span><em>shape</em>, <em>ind</em>, <em>radii</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.samfire_utils.strategy.nearest_indices" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the slices to slice a given size array to get the required size
rectangle around the given index. Deals nicely with boundaries.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>shape</strong> (<em>tuple</em>) &#8211; the shape of the original (large) array</li>
<li><strong>ind</strong> (<em>tuple</em>) &#8211; the index of interest in the large array (centre)</li>
<li><strong>radii</strong> (<em>tuple of floats</em>) &#8211; the distances of interests in all dimensions around the centre index.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><strong>slices</strong> (<em>tuple of slices</em>) &#8211; The slices to slice the large array to get the required region.</li>
<li><strong>center</strong> (<em>tuple of ints</em>) &#8211; The index of the original centre (ind) position in the new (sliced)
array.</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-hyperspy.samfire_utils">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-hyperspy.samfire_utils" title="Permalink to this headline">¶</a></h2>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="hyperspy.samfire_utils.goodness_of_fit_tests.html" class="btn btn-neutral float-right" title="hyperspy.samfire_utils.goodness_of_fit_tests package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="hyperspy.models.html" class="btn btn-neutral" title="hyperspy.models package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2011-2016, The HyperSpy development team.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1.3',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="../_static/copybutton.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>