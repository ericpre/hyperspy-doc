

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>hyperspy.misc.array_tools module &mdash; HyperSpy 1.3.2 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/hyperspy.ico"/>
  
  
  

  

  
  
    

  

  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
 
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-25260850-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>


  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> HyperSpy
          

          
            
            <img src="../_static/hyperspy_logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                1.3.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../user_guide/index.html">HyperSpy User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules.html">Full HyperSpy API Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev_guide.html">Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../credits.html">Credits</a></li>
<li class="toctree-l1"><a class="reference internal" href="../citing.html">Citing HyperSpy</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">HyperSpy</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>hyperspy.misc.array_tools module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/api/hyperspy.misc.array_tools.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-hyperspy.misc.array_tools">
<span id="hyperspy-misc-array-tools-module"></span><h1>hyperspy.misc.array_tools module<a class="headerlink" href="#module-hyperspy.misc.array_tools" title="Permalink to this headline">¶</a></h1>
<dl class="function">
<dt id="hyperspy.misc.array_tools.are_aligned">
<code class="descclassname">hyperspy.misc.array_tools.</code><code class="descname">are_aligned</code><span class="sig-paren">(</span><em>shape1</em>, <em>shape2</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.array_tools.are_aligned" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if two numpy arrays are aligned.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>shape2</strong> (<em>shape1</em><em>,</em>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>isaligned</strong></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="hyperspy.misc.array_tools.dict2sarray">
<code class="descclassname">hyperspy.misc.array_tools.</code><code class="descname">dict2sarray</code><span class="sig-paren">(</span><em>dictionary</em>, <em>sarray=None</em>, <em>dtype=None</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.array_tools.dict2sarray" title="Permalink to this definition">¶</a></dt>
<dd><p>Populates a struct array from a dictionary</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dictionary</strong> (<em>dict</em>) – </li>
<li><strong>sarray</strong> (<em>struct array</em><em> or </em><em>None</em>) – Either sarray or dtype must be given. If sarray is given, it is
populated from the dictionary.</li>
<li><strong>dtype</strong> (<em>None</em><em>, </em><em>numpy dtype</em><em> or </em><em>dtype list</em>) – If sarray is None, dtype must be given. If so, a new struct array
is created according to the dtype, which is then populated.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">Structure array</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="hyperspy.misc.array_tools.get_array_memory_size_in_GiB">
<code class="descclassname">hyperspy.misc.array_tools.</code><code class="descname">get_array_memory_size_in_GiB</code><span class="sig-paren">(</span><em>shape</em>, <em>dtype</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.array_tools.get_array_memory_size_in_GiB" title="Permalink to this definition">¶</a></dt>
<dd><p>Given the size and dtype returns the amount of memory that such
an array needs to allocate</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>shape</strong> (<em>tuple</em>) – </li>
<li><strong>dtype</strong> (<em>data-type</em>) – The desired data-type for the array.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="hyperspy.misc.array_tools.homogenize_ndim">
<code class="descclassname">hyperspy.misc.array_tools.</code><code class="descname">homogenize_ndim</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.array_tools.homogenize_ndim" title="Permalink to this definition">¶</a></dt>
<dd><p>Given any number of arrays returns the same arrays
reshaped by adding facing dimensions of size 1.</p>
</dd></dl>

<dl class="function">
<dt id="hyperspy.misc.array_tools.jit_ifnumba">
<code class="descclassname">hyperspy.misc.array_tools.</code><code class="descname">jit_ifnumba</code><span class="sig-paren">(</span><em>func</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.array_tools.jit_ifnumba" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="hyperspy.misc.array_tools.rebin">
<code class="descclassname">hyperspy.misc.array_tools.</code><code class="descname">rebin</code><span class="sig-paren">(</span><em>a</em>, <em>new_shape=None</em>, <em>scale=None</em>, <em>crop=True</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.array_tools.rebin" title="Permalink to this definition">¶</a></dt>
<dd><p>Rebin array.</p>
<p>rebin ndarray data into a smaller or larger array based on a linear
interpolation. Specify either a new_shape or a scale. Scale of 1== no
binning. Scale less than one results in up-sampling.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>a</strong> (<em>numpy array</em>) – </li>
<li><strong>new_shape</strong> (<em>a list of floats</em><em> or </em><em>integer</em><em>, </em><em>default None</em>) – For each dimension specify the new_shape of the np.array. This will
then be converted into a scale.</li>
<li><strong>scale</strong> (<em>a list of floats</em><em> or </em><em>integer</em><em>, </em><em>default None</em>) – For each dimension specify the new:old pixel ratio, e.g. a ratio of 1
is no binning and a ratio of 2 means that each pixel in the new
spectrum is twice the size of the pixels in the old spectrum.
The length of the list should match the dimension of the numpy array.
<strong>*Note : Only one of scale or new_shape should be specified otherwise
the function will not run*</strong></li>
<li><strong>crop</strong> (<em>bool</em><em>, </em><em>default True</em>) – <p>When binning by a non-integer number of pixels it is likely that
the final row in each dimension contains less than the full quota to
fill one pixel.</p>
<p>e.g. 5*5 array binned by 2.1 will produce two rows containing 2.1
pixels and one row containing only 0.8 pixels worth. Selection of
crop=’True’ or crop=’False’ determines whether or not this
‘black’ line is cropped from the final binned array or not.</p>
<p><em>Please note that if crop=False is used, the final row in each
dimension may appear black, if a fractional number of pixels are left
over. It can be removed but has been left to preserve total counts
before and after binning.</em></p>
</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">numpy array</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">=</span><span class="n">rand</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">4</span><span class="p">);</span> <span class="n">b</span><span class="o">=</span><span class="n">rebin</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">scale</span><span class="o">=</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">=</span><span class="n">rand</span><span class="p">(</span><span class="mi">6</span><span class="p">);</span> <span class="n">b</span><span class="o">=</span><span class="n">rebin</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">scale</span><span class="o">=</span><span class="p">(</span><span class="mi">2</span><span class="p">,))</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<p>Fast re_bin function Adapted from scipy cookbook</p>
</dd></dl>

<dl class="function">
<dt id="hyperspy.misc.array_tools.sarray2dict">
<code class="descclassname">hyperspy.misc.array_tools.</code><code class="descname">sarray2dict</code><span class="sig-paren">(</span><em>sarray</em>, <em>dictionary=None</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.array_tools.sarray2dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a struct array to an ordered dictionary</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>sarray</strong> (<em>struct array</em>) – </li>
<li><strong>dictionary</strong> (<em>None</em><em> or </em><em>dict</em>) – If dictionary is not None the content of sarray will be appended to the
given dictonary</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">Ordered dictionary</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2011-2018, The HyperSpy development team.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1.3.2',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="../_static/copybutton.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  <script type="text/javascript">
      jQuery(function () {
          
          SphinxRtdTheme.Navigation.enableSticky();
          
      });
  </script> 

</body>
</html>